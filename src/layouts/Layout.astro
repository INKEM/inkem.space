---
import ConfigCarrier from "@components/ConfigCarrier.astro";
import MusicPlayer from "@components/widget/MusicPlayer.svelte";
import Pio from "@components/widget/Pio.svelte"; // 使用 Svelte 版本的 Pio 组件
import {
	musicPlayerConfig,
	pioConfig,
	profileConfig,
	siteConfig,
} from "@/config";
import { umamiConfig } from "../config";

const BANNER_HEIGHT = 35;
const BANNER_HEIGHT_EXTEND = 30;
const BANNER_HEIGHT_HOME = BANNER_HEIGHT + BANNER_HEIGHT_EXTEND;

import {
	DARK_MODE,
	DEFAULT_THEME,
	LIGHT_MODE,
	PAGE_WIDTH,
} from "../constants/constants";
import { defaultFavicons } from "../constants/icon";
import type { Favicon } from "../types/config";
import { pathsEqual, url } from "../utils/url-utils";

import "../styles/mobile-navbar.css";
import "../styles/wallpaper-navbar-transparent.css";
import "../styles/fancybox-custom.css";
import "../styles/expressive-code.css";
import "../styles/panel-animations.css";

interface Props {
	title?: string;
	banner?: string;
	description?: string;
	lang?: string;
	setOGTypeArticle?: boolean;
	postSlug?: string;
}

let { title, banner, description, lang, setOGTypeArticle, postSlug } =
	Astro.props;

// apply a class to the body element to decide the height of the banner, only used for initial page load
// Swup can update the body for each page visit, but it's after the page transition, causing a delay for banner height change
// so use Swup hooks instead to change the height immediately when a link is clicked
const isHomePage = pathsEqual(Astro.url.pathname, url("/"));

// defines global css variables
// why doing this in Layout instead of GlobalStyles: https://github.com/withastro/astro/issues/6728#issuecomment-1502203757
const configHue = siteConfig.themeColor.hue;

// 获取导航栏透明模式配置
const navbarTransparentMode =
	siteConfig.banner?.navbar?.transparentMode || "semi";
// 判断是否应该显示顶部高光效果（只在full和semifull模式下显示）
const shouldShowTopHighlight =
	navbarTransparentMode === "full" || navbarTransparentMode === "semifull";

// 获取默认banner图片的辅助函数
const getDefaultBanner = (): string => {
	const src = siteConfig.banner.src;
	if (typeof src === "string") {
		return src;
	}
	if (Array.isArray(src)) {
		return src[0] || "";
	}
	if (src && typeof src === "object") {
		// 优先使用desktop，如果没有则使用mobile
		const desktopSrc = src.desktop;
		const mobileSrc = src.mobile;
		if (typeof desktopSrc === "string") {
			return desktopSrc;
		}
		if (Array.isArray(desktopSrc) && desktopSrc.length > 0) {
			return desktopSrc[0];
		}
		if (typeof mobileSrc === "string") {
			return mobileSrc;
		}
		if (Array.isArray(mobileSrc) && mobileSrc.length > 0) {
			return mobileSrc[0];
		}
	}
	return "";
};

if (!banner || typeof banner !== "string" || banner.trim() === "") {
	banner = getDefaultBanner();
}

// TODO don't use post cover as banner for now
banner = getDefaultBanner();

const enableBanner = !!siteConfig.banner.src;

let pageTitle: string;
if (title) {
	pageTitle = `${title} - ${siteConfig.title}`;
} else {
	pageTitle = siteConfig.subtitle
		? `${siteConfig.title} - ${siteConfig.subtitle}`
		: siteConfig.title;
}

let ogImageUrl: string | undefined;
if (siteConfig.generateOgImages && postSlug) {
	ogImageUrl = new URL(`/og/${postSlug}.png`, Astro.site).toString();
}

const favicons: Favicon[] =
	siteConfig.favicon.length > 0 ? siteConfig.favicon : defaultFavicons;

// const siteLang = siteConfig.lang.replace('_', '-')
if (!lang) {
	lang = `${siteConfig.lang}`;
}
const siteLang = lang.replace("_", "-");

const bannerOffsetByPosition = {
	top: `${BANNER_HEIGHT_EXTEND}vh`,
	center: `${BANNER_HEIGHT_EXTEND / 2}vh`,
	bottom: "0",
};
const bannerOffset =
	bannerOffsetByPosition[siteConfig.banner.position || "center"];

const umamiEnabled = umamiConfig.enabled || false;
const umamiScripts = umamiConfig.scripts || ""; // 获取Umami scripts配置

// 构建字体配置的 CSS 变量
// ASCII 字体优先级最高（用于英文、数字等），CJK 字体作为回退
let bodyFontFamily = "";
if (siteConfig.font) {
	const fonts: string[] = [];

	// 先添加 ASCII 字体（优先级最高）
	if (siteConfig.font.asciiFont?.fontFamily) {
		const asciiFont = siteConfig.font.asciiFont.fontFamily;
		// 如果字体名包含空格，需要用引号包围
		fonts.push(asciiFont.includes(" ") ? `"${asciiFont}"` : asciiFont);
	}

	// 再添加 CJK 字体（作为回退）
	if (siteConfig.font.cjkFont?.fontFamily) {
		const cjkFont = siteConfig.font.cjkFont.fontFamily;
		// 如果字体名包含空格，需要用引号包围
		fonts.push(cjkFont.includes(" ") ? `"${cjkFont}"` : cjkFont);
	}

	// 添加系统字体作为最终回退
	fonts.push(
		"system-ui",
		"-apple-system",
		"BlinkMacSystemFont",
		"'Segoe UI'",
		"Roboto",
		"Oxygen",
		"Ubuntu",
		"Cantarell",
		"'Open Sans'",
		"'Helvetica Neue'",
		"sans-serif",
	);

	// 组合成完整的 font-family 字符串
	bodyFontFamily = fonts.join(", ");
}
---

<!doctype html>
<html
	lang={siteLang}
	class="bg-[var(--page-bg)] text-[14px] md:text-[16px]"
	data-overlayscrollbars-initialize
>
	<head>
		<!-- 第三方分析脚本 - 延迟加载优化 -->
		<script is:inline>
			// 使用 requestIdleCallback 延迟加载第三方脚本
			function loadAnalytics() {
				// Google Tag Manager
				(function (w, d, s, l, i) {
					w[l] = w[l] || [];
					w[l].push({
						"gtm.start": new Date().getTime(),
						event: "gtm.js",
					});
					var f = d.getElementsByTagName(s)[0],
						j = d.createElement(s),
						dl = l != "dataLayer" ? "&l=" + l : "";
					j.async = true;
					j.src =
						"https://www.googletagmanager.com/gtm.js?id=" + i + dl;
					f.parentNode.insertBefore(j, f);
				})(window, document, "script", "dataLayer", "GTM-KRX3XGVH");

				// Clarity
				(function (c, l, a, r, i, t, y) {
					c[a] =
						c[a] ||
						function () {
							(c[a].q = c[a].q || []).push(arguments);
						};
					t = l.createElement(r);
					t.async = 1;
					t.src = "https://www.clarity.ms/tag/" + i;
					y = l.getElementsByTagName(r)[0];
					y.parentNode.insertBefore(t, y);
				})(window, document, "clarity", "script", "tjr3vkhj8i");
			}

			// 在浏览器空闲时加载，或者在 3 秒后加载
			if ("requestIdleCallback" in window) {
				requestIdleCallback(loadAnalytics, { timeout: 3000 });
			} else {
				setTimeout(loadAnalytics, 3000);
			}
		</script>

		<title>{pageTitle}</title>

		<meta charset="UTF-8" />
		<meta name="description" content={description || pageTitle} />
		{
			siteConfig.keywords && siteConfig.keywords.length > 0 && (
				<meta
					name="keywords"
					content={siteConfig.keywords.join(", ")}
				/>
			)
		}
		<meta name="author" content={profileConfig.name} />

		<meta property="og:site_name" content={siteConfig.title} />
		<meta property="og:url" content={Astro.url} />
		<meta property="og:title" content={pageTitle} />
		<meta property="og:description" content={description || pageTitle} />
		{ogImageUrl && <meta property="og:image" content={ogImageUrl} />}
		{
			setOGTypeArticle ? (
				<meta property="og:type" content="article" />
			) : (
				<meta property="og:type" content="website" />
			)
		}

		<meta name="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={Astro.url} />
		<meta name="twitter:title" content={pageTitle} />
		<meta name="twitter:description" content={description || pageTitle} />

		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		{
			favicons.map((favicon) => (
				<link
					rel="icon"
					href={
						favicon.src.startsWith("/")
							? url(favicon.src)
							: favicon.src
					}
					sizes={favicon.sizes}
					media={
						favicon.theme &&
						`(prefers-color-scheme: ${favicon.theme})`
					}
				/>
			))
		}

		<!-- Set the theme before the page is rendered to avoid a flash -->
		<script
			is:inline
			define:vars={{
				DEFAULT_THEME,
				LIGHT_MODE,
				DARK_MODE,
				BANNER_HEIGHT_EXTEND,
				PAGE_WIDTH,
				configHue,
			}}
		>
			// Load the theme from local storage
			const theme = localStorage.getItem("theme") || DEFAULT_THEME;
			let isDark = false;
			switch (theme) {
				case LIGHT_MODE:
					document.documentElement.classList.remove("dark");
					isDark = false;
					break;
				case DARK_MODE:
					document.documentElement.classList.add("dark");
					isDark = true;
					break;
			}

			// Set the theme for Expressive Code based on current mode
			const expressiveTheme = isDark ? "github-dark" : "github-light";
			const currentTheme =
				document.documentElement.getAttribute("data-theme");

			// 只在主题不同时才更新，避免触发不必要的重绘
			if (currentTheme !== expressiveTheme) {
				document.documentElement.setAttribute(
					"data-theme",
					expressiveTheme,
				);
			}

			// Load the hue from local storage
			const hue = localStorage.getItem("hue") || configHue;
			document.documentElement.style.setProperty("--hue", hue);

			// calculate the --banner-height-extend, which needs to be a multiple of 4 to avoid blurry text
			let offset = Math.floor(
				window.innerHeight * (BANNER_HEIGHT_EXTEND / 100),
			);
			offset = offset - (offset % 4);
			document.documentElement.style.setProperty(
				"--banner-height-extend",
				`${offset}px`,
			);
		</script>
		<style
			define:vars={{
				configHue,
				"page-width": `${PAGE_WIDTH}rem`,
			}}
		></style>
		<!-- defines global css variables. This will be applied to <html> <body> and some other elements idk why -->
		<style is:inline>
			@font-face{font-family:"JetBrains Mono Variable";font-style:normal;font-display:swap;font-weight:100 800;src:url("/_astro/jetbrains-mono-latin-wght-normal.B9CIFXIH.woff2") format("woff2-variations");unicode-range:U+0-FF,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+304,U+308,U+329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@keyframes os-size-observer-appear-animation{0%{cursor:auto}100%{transform:rotate(360deg)}}@keyframes fadeInScale{0%{opacity:0;transform:scale(0.95)}}@keyframes fadeInSlide{0%{opacity:0;transform:translate(-10px)}}@keyframes svelte-8vwu4q-iconRotate{0%{transform:rotate(0deg) scale(1);opacity:1}50%{opacity:0.5}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}}@keyframes loading{0%{background-position:200% 0px}}@keyframes slideInLeft{0%{opacity:0;transform:translate(-30px)}}@keyframes theme-fade-out{0%{opacity:1}}@keyframes theme-fade-in{0%{opacity:0}}@keyframes pulse{0%,100%{opacity:1}}@keyframes pulsate{0%{opacity:0.15}}@keyframes spin{0%{transform:rotate(0deg)}}@keyframes fade-in-up{0%{opacity:0;transform:translateY(1.5rem) translate(0.5rem)}}@keyframes fade-out-down{0%{opacity:1;transform:translateY(0px) translate(0px)}}@keyframes fade-in{0%{opacity:0}}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}}@keyframes slideIn{0%{opacity:0;transform:translate(-30px)}}@keyframes scaleIn{0%{opacity:0;transform:scale(0.8)}}@keyframes shimmer{0%{left:-100%}}@keyframes f-spinner{100%{rotate:360deg}}@keyframes f-fadeIn{0%{opacity:0}}@keyframes f-fadeOut{100%{opacity:0}}@keyframes f-crossfadeIn{0%{opacity:0}}@keyframes f-crossfadeOut{100%{opacity:0}}@keyframes f-slideInPrevX{0%{transform:translate(calc(100% + var(--f-carousel-gap,0)))}}@keyframes f-slideInNextX{0%{transform:translate(calc(-100% - var(--f-carousel-gap,0)))}}@keyframes f-slideOutNextX{100%{transform:translate(calc(-100% - var(--f-carousel-gap,0)))}}@keyframes f-slideOutPrevX{100%{transform:translate(calc(100% + var(--f-carousel-gap,0)))}}@keyframes f-slideInPrevY{0%{transform:translateY(calc(100% + var(--f-carousel-gap,0)))}}@keyframes f-slideInNextY{0%{transform:translateY(calc(-100% - var(--f-carousel-gap,0)))}}@keyframes f-slideOutNextY{100%{transform:translateY(calc(-100% - var(--f-carousel-gap,0)))}}@keyframes f-slideOutPrevY{100%{transform:translateY(calc(100% + var(--f-carousel-gap,0)))}}@keyframes f-zoomInUp{0%{transform:scale(var(--f-zoomInUp-scale,.975)) translate3d(var(--f-zoomInUp-x,0),var(--f-zoomInUp-y,16px),0);opacity:var(--f-zoomInUp-opacity,0)}}@keyframes f-zoomOutDown{100%{transform:scale(var(--f-zoomOutDown-scale,.975)) translate3d(var(--f-zoomOutDown-x,0),var(--f-zoomOutDown-y,16px),0);opacity:0}}@keyframes f-throwOutUp{100%{transform:translate3d(0,calc(var(--f-throwOutUp-y,150px) * -1),0);opacity:0}}@keyframes f-throwOutDown{100%{transform:translate3d(0,var(--f-throwOutDown-y,150px),0);opacity:0}}@keyframes f-progressbar{0%{transform:scaleX(0)}}@keyframes wave{0%{transform:translate3d(-90px,0px,0px)}}@keyframes mobile-fade-in{0%{opacity:0;transform:scale(1.1)}70%{transform:scale(1.05);box-shadow:rgba(99,102,241,0) 0px 0px 0px 10px}}@keyframes rotate{0%{transform:rotate(0deg)}}@keyframes musicWave{0%,100%{transform:scaleY(0.5)}}@keyframes slide-up{0%{transform:translateY(100%);opacity:0}}@keyframes spin-continuous{0%{transform:rotate(0deg)}}.pio-container{bottom:0px;z-index:52;color:rgb(102,102,102);position:fixed;user-select:none}.pio-container .pio-show{left:-1em;bottom:1em;width:3em;height:3em;display:none;cursor:pointer;position:absolute;border-radius:3em;border:3px solid rgb(255,255,255);transition:transform 0.3s;background:url("avatar.jpg") center center / contain}.pio-container.hidden #pio,.pio-container.hidden .pio-action,.pio-container.hidden .pio-dialog{display:none}.pio-container .pio-action{top:3em;opacity:0;position:absolute;transition:opacity 0.3s}.pio-container.left .pio-action{right:0px}.pio-container.right .pio-action{left:0px}.pio-container:hover .pio-action{opacity:1}.pio-action span{color:rgb(255,255,255);width:1.5em;height:1.5em;display:block;cursor:pointer;text-align:center;border-radius:66%;margin-bottom:0.5em;border:1px solid rgb(102,102,102);background:center center / 70% no-repeat rgb(255,255,255)}.pio-action .pio-home{background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg5My43IDUwNS45SDEyOS4zYy0xMyAwLTI0LjgtNy45LTI5LjgtMTkuOS01LTEyLTIuMi0yNS45IDctMzUuMmwzMDctMzA3YzI2LjEtMjYuMSA2MC45LTQwLjUgOTgtNDAuNXM3MS45IDE0LjQgOTggNDAuNWwzMDcgMzA3YzkuMiA5LjIgMTIgMjMuMSA3IDM1LjItNSAxMi4xLTE2LjcgMTkuOS0yOS44IDE5Ljl6TTY3My4yIDkxOS45aC0zMS41Yy0xNy44IDAtMzIuMy0xNC40LTMyLjMtMzIuM3YtNzcuNGMwLTIzLjEtMTguOC00Mi4xLTQxLjktNDIuNC0yMi4zIDAuMy00MS4xIDE5LjMtNDEuMSA0Mi40djc3LjRjMCAxNy44LTE0LjQgMzIuMy0zMi4zIDMyLjNIMzQ5LjhjLTcwLjkgMC0xMjguNy02My43LTEyOC43LTE0MS45VjU4MS45YzAtMTcuOCAxNC40LTMyLjMgMzIuMy0zMi4zaDUxNi4yYzE3LjggMCAzMi4zIDE0LjQgMzIuMyAzMi4zVjc3OGMtMC4xIDc4LjMtNTcuOCAxNDEuOS0xMjguNyAxNDEuOXoiPjwvcGF0aD48L3N2Zz4=")}.pio-action .pio-close{background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1NS4yNTIgOTQzLjgyNWMtMTkuMjEzIDAtMzguNDI5LTcuMzMyLTUzLjA4OS0yMS45ODgtMjkuMzE3LTI5LjMyMS0yOS4zMTctNzYuODU1IDAtMTA2LjE3NWw3MTMuNDk0LTcxMy40OTRjMjkuMzE3LTI5LjMyMSA3Ni44NTMtMjkuMzIxIDEwNi4xNzUgMCAyOS4zMTcgMjkuMzE3IDI5LjMxNyA3Ni44NTUgMCAxMDYuMTc1bC03MTMuNDk0IDcxMy40OTRjLTE0LjY2IDE0LjY2LTMzLjg3NCAyMS45ODgtNTMuMDg5IDIxLjk4OHoiIGZpbGw9IiI+PC9wYXRoPjxwYXRoIGQ9Ik04NjguNzQ5IDk0My44MjRjLTE5LjIxMyAwLTM4LjQyOC03LjMzMi01My4wODktMjEuOTg4bC03MTMuNDk0LTcxMy40OTNjLTI5LjMxNy0yOS4zMTctMjkuMzE3LTc2Ljg1NyAwLTEwNi4xNzUgMjkuMzE2LTI5LjMxNyA3Ni44NTUtMjkuMzIxIDEwNi4xNzQgMGw3MTMuNDk0IDcxMy40OTJjMjkuMzE3IDI5LjMyMSAyOS4zMTcgNzYuODU1IDAgMTA2LjE3NS0xNC42NTcgMTQuNjYxLTMzLjg3MSAyMS45OTMtNTMuMDg3IDIxLjk5M3oiIGZpbGw9IiI+PC9wYXRoPjwvc3ZnPg==")}.pio-action .pio-skin{background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTk2NS45MTEgMzEwLjUzMWwtMTc0LjQtMTc0LjM5OGMtMTMuMDIyLTEzLjAyMS0zMC45MzMtMTkuNjQ5LTQ5LjM4MS0xOC4yMjgtMS43NC0wLjE1LTMuNDIyLTAuMjI0LTUuMDctMC4yMjRsLTkyLjkxNCAwLTYuNTE3IDMuNjI1Yy0zNC40MjEgMTkuMTQ2LTc4LjM0MSAyOS42ODktMTIzLjY2OCAyOS42ODktNDUuMzI4IDAtODkuMjQ2LTEwLjU0My0xMjMuNjY3LTI5LjY4OWwtNi41MTgtMy42MjVMMjkwLjg2IDExNy42ODFjLTIzLjY5MSAwLTQ0Ljk4NiAxMi45MjQtNTUuOTk1IDMzLjQ1MUw2Mi40NzcgMzIzLjUyMWMtMTEuOSAxMS44OTktMTguNDU0IDI3LjcyLTE4LjQ1NCA0NC41NDggMCAxNi44MjkgNi41NTQgMzIuNjQ5IDE4LjQ1MyA0NC41NDlsMTI1Ljk1MyAxMjUuOTU1YzEwLjU0IDEwLjUzOCAyNC4xNTcgMTYuODc4IDM4LjgyNiAxOC4xODFsMCAzMDQuMzk5YzAgMzUuMDczIDI4LjUzMyA2My42MDYgNjMuNjA0IDYzLjYwNmw0NDYuMTk5IDBjMzUuMDc0IDAgNjMuNjA3LTI4LjUzMyA2My42MDctNjMuNjA2bC0wLjAwMS0zMTcuMzQ1YzE0Ljg0NC0xLjIxMSAyOC42MzktNy41NzcgMzkuMjg4LTE4LjIyNEw5NjUuOTEgMzk5LjYyOEM5OTAuNDc1IDM3NS4wNjQgOTkwLjQ3NSAzMzUuMDk1IDk2NS45MTEgMzEwLjUzMXoiPjwvcGF0aD48L3N2Zz4=")}.pio-action .pio-info{background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTY4Mi45IDgyNS45SDI2Ny44Yy0yMS44IDAtMzkuNS0xNy43LTM5LjUtMzkuNXMxNy43LTM5LjUgMzkuNS0zOS41aDQxNS4xYzIxLjggMCAzOS41IDE3LjcgMzkuNSAzOS41cy0xNy43IDM5LjUtMzkuNSAzOS41ek04NjQuNyAxMDAuNGMtMTguNSAzLjctMzEuMyAyMC45LTMxLjMgMzkuN3Y2NDUuOGMwIDQ4LTM4LjkgODctODcgODdIMjE5LjNjLTE2LjQgMC0yOS42LTEzLjMtMjkuNi0yOS42VjczMi43YzAtMTYuMSAxMy4xLTI5LjIgMjkuMi0yOS4yaDM3NS45Yzg4LjEgMCAxNTkuNS03MS40IDE1OS41LTE1OS41VjE4NS41YzAtNjYuMi01My43LTExOS45LTExOS45LTExOS45aC00MDRjLTY2LjIgMC0xMTkuOSA1My43LTExOS45IDExOS45djY1Ny44YzAgNjAgNDguNyAxMDguNyAxMDguNyAxMDguN2g1MjcuMWM5MS43IDAgMTY2LjEtNzQuMyAxNjYuMS0xNjYuMVYxMzkuMWMwLjEtMjQuNi0yMi4yLTQzLjktNDcuNy0zOC43eiI+PC9wYXRoPjwvc3ZnPg==")}.pio-action .pio-night{background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiAyMDkuNDAzMjQxYy0yMDEuNzMxNTE0IDAtMzc0LjAwOTIwNiAxMjUuNDc2NzgzLTQ0My44MDg5MjIgMzAyLjU5Njc1OSA2OS43OTg2OTIgMTc3LjExOTk3NyAyNDIuMDc3NDA4IDMwMi41OTY3NTkgNDQzLjgwODkyMiAzMDIuNTk2NzU5IDIwMS45MzMxMDUgMCAzNzQuMDEwMjI5LTEyNS40NzY3ODMgNDQzLjgwODkyMi0zMDIuNTk2NzU5Qzg4Ni4wMDkyMDYgMzM0Ljg4MDAyMyA3MTMuOTMzMTA1IDIwOS40MDMyNDEgNTEyIDIwOS40MDMyNDF6TTUxMiA3MTMuNzMxNTE0Yy0xMTEuMzU1MTU3IDAtMjAxLjczMTUxNC05MC4zNzUzMzQtMjAxLjczMTUxNC0yMDEuNzMxNTE0czkwLjM3NTMzNC0yMDEuNzMxNTE0IDIwMS43MzE1MTQtMjAxLjczMTUxNCAyMDEuNzMxNTE0IDkwLjM3NTMzNCAyMDEuNzMxNTE0IDIwMS43MzE1MTRTNjIzLjM1NTE1NyA3MTMuNzMxNTE0IDUxMiA3MTMuNzMxNTE0ek01MTIgMzkwLjk2MTI5NmMtNjYuNzcyNzc2IDAtMTIxLjAzODcwNCA1NC4yNjU5MjgtMTIxLjAzODcwNCAxMjEuMDM4NzA0czU0LjI2NTkyOCAxMjEuMDM4NzA0IDEyMS4wMzg3MDQgMTIxLjAzODcwNCAxMjEuMDM4NzA0LTU0LjI2NTkyOCAxMjEuMDM4NzA0LTEyMS4wMzg3MDRTNTc4Ljc3Mjc3NiAzOTAuOTYxMjk2IDUxMiAzOTAuOTYxMjk2eiI+PC9wYXRoPjwvc3ZnPg==")}.pio-container .pio-dialog{bottom:calc(100% - 2em);opacity:0;z-index:-1;font-size:0.8em;min-width:12em;background:rgb(255,255,255);padding:0.75em 1em;border-radius:1em;visibility:hidden;position:absolute;word-break:break-all;border:1px solid rgb(238,238,238);transition:opacity 0.3s,visibility 0.3s}.pio-container .pio-dialog.active{opacity:1;visibility:visible}#pio{vertical-align:middle}[data-overlayscrollbars-initialize]:not([data-overlayscrollbars-viewport]),[data-overlayscrollbars-viewport~="scrollbarHidden"],html[data-overlayscrollbars-viewport~="scrollbarHidden"] > body{scrollbar-width:none !important}[data-overlayscrollbars-initialize]:not([data-overlayscrollbars-viewport])::-webkit-scrollbar,[data-overlayscrollbars-initialize]:not([data-overlayscrollbars-viewport])::-webkit-scrollbar-corner,[data-overlayscrollbars-viewport~="scrollbarHidden"]::-webkit-scrollbar,[data-overlayscrollbars-viewport~="scrollbarHidden"]::-webkit-scrollbar-corner,html[data-overlayscrollbars-viewport~="scrollbarHidden"] > body::-webkit-scrollbar,html[data-overlayscrollbars-viewport~="scrollbarHidden"] > body::-webkit-scrollbar-corner{appearance:none !important;display:none !important;width:0px !important;height:0px !important}html[data-overlayscrollbars-body]{overflow:hidden}html[data-overlayscrollbars-body],html[data-overlayscrollbars-body] > body{width:100%;height:100%;margin:0px}html[data-overlayscrollbars-body] > body{overflow:visible;margin:0px}[data-overlayscrollbars-viewport~="noContent"]:not(#osFakeId)::before,[data-overlayscrollbars-viewport~="noContent"]:not(#osFakeId)::after,[data-overlayscrollbars-viewport~="noContent"]:not(#osFakeId) > *{display:none !important;position:absolute !important;width:1px !important;height:1px !important;padding:0px !important;margin:-1px !important;overflow:hidden !important;clip:rect(0px,0px,0px,0px) !important;white-space:nowrap !important;border-width:0px !important}body > .os-scrollbar{position:fixed;z-index:99999}.os-scrollbar-unusable,.os-scrollbar-unusable *,.os-scrollbar-wheel,.os-scrollbar-wheel *{pointer-events:none !important}.katex *{border-color:currentcolor}.katex .vlist > span{display:block;height:0px;position:relative}.katex .vlist > span > span{display:inline-block}.katex .vlist > span > .pstrut{overflow:hidden;width:0px}.katex .mfrac > span > span{text-align:center}.katex .clap > .inner > span{margin-left:-50%;margin-right:50%}.katex .delimsizing.mult .delim-size1 > span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4 > span{font-family:KaTeX_Size4}.katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentcolor;stroke:currentcolor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex img{border-style:none;min-width:0px;min-height:0px;max-width:none;max-height:none}body{margin:0px;line-height:inherit}#post-list-container[data-astro-cid-l6a6buid]{transition:0.5s cubic-bezier(0.4,0,0.2,1)}#post-list-container[data-astro-cid-l6a6buid] > *{transition:0.4s cubic-bezier(0.4,0,0.2,1)}#post-list-container[data-astro-cid-l6a6buid].layout-switching{opacity:0.95}#post-list-container[data-astro-cid-l6a6buid].layout-switching > *{transform:scale(0.98)}#post-list-container[data-astro-cid-l6a6buid].grid-mode > *{animation:0.4s cubic-bezier(0.4,0,0.2,1) 0s 1 normal forwards running fadeInScale}#post-list-container[data-astro-cid-l6a6buid].list-mode > *{animation:0.4s cubic-bezier(0.4,0,0.2,1) 0s 1 normal forwards running fadeInSlide}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(1){animation-delay:0ms}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(2){animation-delay:50ms}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(3){animation-delay:0.1s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(4){animation-delay:0.15s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(5){animation-delay:0.2s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(6){animation-delay:0.25s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(7){animation-delay:0.3s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(8){animation-delay:0.35s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(9){animation-delay:0.4s}#post-list-container[data-astro-cid-l6a6buid].layout-switching >:nth-child(10){animation-delay:0.45s}.group[data-astro-cid-asphmpkf]{position:relative}#decrypted-content .astro-code code span.line:last-child:empty,#decrypted-content .astro-code code span.line:last-child:has(> span:empty:only-child){display:none}#decrypted-content .custom-md .expressive-code ul li::marker,#decrypted-content .custom-md .expressive-code ol li::marker{color:inherit}.lightbox button{backdrop-filter:blur(4px);transition:0.2s}.lightbox button:hover{background-color:rgba(0,0,0,0.7);transform:scale(1.05)}.album-card .p-4{display:flex;flex-direction:column;height:100%}.anime-page .progress-bar{background:linear-gradient(90deg,var(--btn-regular-bg),var(--btn-regular-bg-hover))}.anime-page .progress-bar:is(.dark *){--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity,1))}html.is-leaving .transition-leaving{transform:translateY(-1rem);opacity:0}html.is-entering .transition-main{transform:translateY(1.5rem);opacity:0}*,::before,::after{box-sizing:border-box;border-width:0px;border-style:solid;border-color:rgb(229,231,235)}html,:host{line-height:1.5;text-size-adjust:100%;tab-size:4;font-family:Roboto,sans-serif,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0px;padding:0px}button,select{text-transform:none}button,input:where([type="button"]),input:where([type="reset"]),input:where([type="submit"]){appearance:button;background-color:transparent;background-image:none}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0px}ol,ul,menu{list-style:none;margin:0px;padding:0px}button,[role="button"]{cursor:pointer}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.container{width:100%}.prose:where(.prose > ul > li p):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em}.prose:where(.prose > ul > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:1.25em}.prose:where(.prose > ul > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-bottom:1.25em}.prose:where(.prose > ol > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:1.25em}.prose:where(.prose > ol > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-bottom:1.25em}.prose:where(ul ul,ul ol,ol ul,ol ol):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em}.prose-base:where(.prose-base > ul > li p):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em}.prose-base:where(.prose-base > ul > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:1.25em}.prose-base:where(.prose-base > ul > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-bottom:1.25em}.prose-base:where(.prose-base > ol > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:1.25em}.prose-base:where(.prose-base > ol > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-bottom:1.25em}.prose-base:where(ul ul,ul ol,ol ul,ol ol):not(:where([class~="not-prose"],[class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em}.transition,[class*="border"],[class*="transition"]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.is-theme-transitioning:not(.use-view-transition) *,.is-theme-transitioning:not(.use-view-transition)::before,.is-theme-transitioning:not(.use-view-transition)::after{transition:none !important;animation:auto ease 0s 1 normal none running none !important}.is-theme-transitioning .expressive-code,.is-theme-transitioning .expressive-code *{transition:none !important;animation:auto ease 0s 1 normal none running none !important;will-change:auto !important}.is-theme-transitioning:not(.use-view-transition) .float-panel,.is-theme-transitioning:not(.use-view-transition) .float-panel *,.is-theme-transitioning:not(.use-view-transition) .music-player,.is-theme-transitioning:not(.use-view-transition) .music-player *,.is-theme-transitioning:not(.use-view-transition) .widget,.is-theme-transitioning:not(.use-view-transition) .widget *,.is-theme-transitioning:not(.use-view-transition) .dropdown-content,.is-theme-transitioning:not(.use-view-transition) .dropdown-content *{transition:none !important;animation:auto ease 0s 1 normal none running none !important}.is-theme-transitioning:not(.use-view-transition) .post-card,.is-theme-transitioning:not(.use-view-transition) .widget,.is-theme-transitioning:not(.use-view-transition) .float-panel{contain:layout style paint !important}.is-theme-transitioning:not(.use-view-transition) svg use{transition:none;fill:currentcolor}.is-theme-transitioning:not(.use-view-transition) #navbar > div,.is-theme-transitioning:not(.use-view-transition) #navbar[data-transparent-mode] > div,.is-theme-transitioning:not(.use-view-transition) #navbar[data-transparent-mode].scrolled > div,.is-theme-transitioning:not(.use-view-transition) body.wallpaper-transparent #navbar > div,.is-theme-transitioning:not(.use-view-transition) body.wallpaper-transparent #navbar[data-transparent-mode] > div,.is-theme-transitioning:not(.use-view-transition) body.wallpaper-transparent #navbar[data-transparent-mode].scrolled > div,.is-theme-transitioning:not(.use-view-transition) #banner-wrapper ~ * #navbar > div,.is-theme-transitioning:not(.use-view-transition) #banner-wrapper ~ * #navbar[data-transparent-mode] > div,.is-theme-transitioning:not(.use-view-transition) body:has(#banner-wrapper) #navbar > div,.is-theme-transitioning:not(.use-view-transition) body:has(#banner-wrapper) #navbar[data-transparent-mode] > div{transition:none !important;backdrop-filter:none !important}.is-theme-transitioning .dropdown-content,.is-theme-transitioning .float-panel,.is-theme-transitioning #display-setting,.is-theme-transitioning #nav-menu-panel,.is-theme-transitioning #translate-panel,.is-theme-transitioning #mobile-toc-panel,.is-theme-transitioning #search-panel{transition:none !important;backdrop-filter:none !important}.is-theme-transitioning #header-waves{color:var(--page-bg);isolation:isolate;contain:layout style paint;transform:translateZ(0px);background:transparent}.is-theme-transitioning #header-waves use{will-change:transform;transform:translateZ(0px)}.card-base{overflow:visible}.wallpaper-transparent .card-base,body.wallpaper-transparent .card-base,.wallpaper-transparent .card-base .card-base,body.wallpaper-transparent .card-base .card-base{background:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}.wallpaper-transparent .float-panel{background-color:var(--card-bg-transparent);--tw-backdrop-blur:blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.wallpaper-transparent #navbar > div{background-color:var(--card-bg-transparent);--tw-backdrop-blur:blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.wallpaper-transparent .btn-card{background-color:var(--card-bg-transparent);--tw-backdrop-blur:blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.wallpaper-transparent ~ * .music-player .mini-player,.wallpaper-transparent ~ * .music-player .expanded-player,.wallpaper-transparent ~ * .music-player .playlist-panel,body.wallpaper-transparent .music-player .mini-player,body.wallpaper-transparent .music-player .expanded-player,body.wallpaper-transparent .music-player .playlist-panel{background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}h1,h2,h3,h4,h5,h6,p,a,span,li,ul,ol,blockquote,code,pre,table,th,td,strong{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.is-theme-transitioning .btn-plain{transition:color 75ms ease-out !important}.link-lg{margin:-0.375rem;border-radius:0.375rem;padding:0.375rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.link-lg::before{position:absolute;inset:0px;z-index:-10;--tw-scale-x:.85;--tw-scale-y:.85;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:inherit;transition-property:all;transition-duration:75ms;content:var(--tw-content);transition-timing-function:cubic-bezier(0,0,0.2,1)}.link-lg:hover::before{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));content:var(--tw-content);background-color:var(--btn-plain-bg-hover)}.link-lg:active{background-image:none}.link-lg:active::before{content:var(--tw-content);background-color:var(--btn-plain-bg-active)}.is-theme-transitioning .link-lg::before{transition:transform 75ms ease-out}.float-panel{z-index:50;will-change:transform,opacity;backface-visibility:hidden;transform-origin:center top}.float-panel:is(.dark *){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.float-panel-closed{transform:scaleY(0) scaleX(0.8);pointer-events:none}.btn-card{display:flex;align-items:center;justify-content:center;background-color:var(--card-bg);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.btn-card:hover{background-color:var(--btn-card-bg-hover)}.btn-card:active{background-color:var(--btn-card-bg-active)}.btn-plain{position:relative;display:flex;align-items:center;justify-content:center;background-image:none;color:rgba(0,0,0,0.75);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.btn-plain:hover{color:var(--primary)}.btn-plain:is(.dark *){color:rgba(255,255,255,0.75)}.btn-plain:hover:is(.dark *){color:var(--primary)}.btn-plain:not(.scale-animation):hover{background-color:var(--btn-plain-bg-hover)}.btn-plain:not(.scale-animation):active{background-color:var(--btn-plain-bg-active)}.btn-regular{display:flex;align-items:center;justify-content:center;background-color:var(--btn-regular-bg);color:var(--btn-content);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.btn-regular:hover{background-color:var(--btn-regular-bg-hover)}.btn-regular:active{background-color:var(--btn-regular-bg-active)}.btn-regular:is(.dark *){color:rgba(255,255,255,0.75)}.toc-hide,.toc-not-ready{pointer-events:none;opacity:0}.hide-scrollbar{scrollbar-width:none}.hide-scrollbar::-webkit-scrollbar{display:none}.text-90{color:rgba(0,0,0,0.9)}.text-90:is(.dark *){color:rgba(255,255,255,0.9)}.text-75{color:rgba(0,0,0,0.75)}.text-75:is(.dark *){color:rgba(255,255,255,0.75)}.text-50{color:rgba(0,0,0,0.5)}.text-50:is(.dark *){color:rgba(255,255,255,0.5)}.text-30{color:rgba(0,0,0,0.3)}.text-30:is(.dark *){color:rgba(255,255,255,0.3)}.dropdown-container{position:relative}.dropdown-menu{pointer-events:none;visibility:hidden;position:absolute;top:100%;left:0px;z-index:50;--tw-translate-y:-8px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));padding-top:0.5rem;opacity:0;transition-property:all;transition-duration:0.2s;transition-timing-function:cubic-bezier(0,0,0.2,1)}.dropdown-container:hover .dropdown-menu,.dropdown-container:focus-within .dropdown-menu{pointer-events:auto;visibility:visible;--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.card-animation.dropdown-container:hover .dropdown-menu,.card-animation .dropdown-container:focus-within .dropdown-menu{opacity:1;transform:translateY(0px) translate(0px) scale(1)}.dropdown-container:hover .dropdown-arrow,.dropdown-container:focus-within .dropdown-arrow{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.dropdown-content{min-width:12rem;border-radius:var(--radius-large);border-width:1px;border-color:rgba(0,0,0,0.05);background-color:var(--float-panel-bg);padding-top:0.5rem;padding-bottom:0.5rem;--tw-shadow:0 20px 25px -5px rgb(0 0 0 / .1),0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.dropdown-content:is(.dark *){border-color:rgba(255,255,255,0.1);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.dropdown-item{display:flex;align-items:center;justify-content:space-between;padding:0.625rem 1rem;font-weight:500;color:rgba(0,0,0,0.75);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.dropdown-item:hover{background-color:var(--btn-plain-bg-hover);color:var(--primary)}.dropdown-item:is(.dark *){color:rgba(255,255,255,0.75)}.dropdown-item:first-child{border-top-left-radius:calc(var(--radius-large) - .5rem);border-top-right-radius:calc(var(--radius-large) - .5rem)}.dropdown-item:last-child{border-bottom-right-radius:calc(var(--radius-large) - .5rem);border-bottom-left-radius:calc(var(--radius-large) - .5rem)}.mobile-submenu{max-height:0px;overflow:hidden;transition-property:all;transition-duration:0.3s;transition-timing-function:cubic-bezier(0.4,0,0.2,1)}.mobile-dropdown[data-expanded="true"] .mobile-submenu{max-height:24rem}.mobile-dropdown[data-expanded="true"] .mobile-dropdown-arrow{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.dropdown-container:focus-within .dropdown-menu{pointer-events:auto;visibility:visible;--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.card-animation.dropdown-container:focus-within .dropdown-menu{opacity:1;transform:translateY(0px) translate(0px) scale(1)}.dropdown-item:focus{outline:transparent solid 2px;outline-offset:2px}.mobile-dropdown button:focus{outline:transparent solid 2px;outline-offset:2px}.meta-icon{margin-right:0.5rem;display:flex;height:2rem;width:2rem;align-items:center;justify-content:center;border-radius:0.375rem;background-color:var(--btn-regular-bg);color:var(--btn-content);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.-bottom-\[1px\]{bottom:-1px}.-right-\[var\(--toc-width\)\]{right:calc(var(--toc-width) * -1)}.bottom-3{bottom:0.75rem}.bottom-4{bottom:1rem}.left-0{left:0px}.right-0{right:0px}.right-3{right:0.75rem}.right-4{right:1rem}.top-0{top:0px}.top-14{top:3.5rem}.top-3{top:0.75rem}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.col-span-1{grid-column:span 1 / span 1}.row-start-1{grid-row-start:1}.row-start-2{grid-row-start:2}.row-start-3{grid-row-start:3}.row-end-2{grid-row-end:2}.row-end-3{grid-row-end:3}.row-end-4{grid-row-end:4}.mx-auto{margin-left:auto;margin-right:auto}.mb-0{margin-bottom:0px}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-2\.5{margin-bottom:0.625rem}.mb-3{margin-bottom:0.75rem}.mb-3\.5{margin-bottom:0.875rem}.mb-4{margin-bottom:1rem}.ml-1{margin-left:0.25rem}.ml-8{margin-left:2rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.\!hidden{display:none !important}.hidden{display:none}.h-1{height:0.25rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:0.5rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-\[1\.75rem\]{height:1.75rem}.h-\[10vh\]{height:10vh}.h-\[3\.25rem\]{height:3.25rem}.h-\[3\.75rem\]{height:3.75rem}.h-\[4\.5rem\]{height:4.5rem}.h-\[calc\(100vh_-_20rem\)\]{height:calc(-20rem + 100vh)}.h-full{height:100%}.max-h-\[80vh\]{max-height:80vh}.max-h-\[9\.375rem\]{max-height:9.375rem}.min-h-\[1\.2em\]{min-height:1.2em}.min-h-\[3\.125rem\]{min-height:3.125rem}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-16{width:4rem}.w-4\/5{width:80%}.w-5{width:1.25rem}.w-8{width:2rem}.w-\[1\.75rem\]{width:1.75rem}.w-\[3\.25rem\]{width:3.25rem}.w-\[3\.75rem\]{width:3.75rem}.w-\[var\(--toc-width\)\]{width:var(--toc-width)}.w-full{width:100%}.min-w-0{min-width:0px}.max-w-\[12rem\]{max-width:12rem}.max-w-\[var\(--page-width\)\]{max-width:var(--page-width)}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.-translate-x-1{--tw-translate-x:-.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-0\.5{--tw-translate-y:.125rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-0{--tw-scale-x:0;--tw-scale-y:0;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-90{--tw-scale-x:.9;--tw-scale-y:.9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-95{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1,minmax(0px,1fr))}.grid-rows-\[auto_1fr_auto\]{grid-template-rows:auto 1fr auto}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:0.25rem}.gap-2{gap:0.5rem}.gap-2\.5{gap:0.625rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-x-4{column-gap:1rem}.gap-y-2{row-gap:0.5rem}.space-x-1 >:not([hidden]) ~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.overflow-hidden{overflow:hidden}.\!overflow-visible{overflow:visible !important}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-scroll{overflow-y:scroll}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-\[var\(--radius-large\)\]{border-radius:var(--radius-large)}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.bg-\[var\(--btn-regular-bg\)\]{background-color:var(--btn-regular-bg)}.bg-\[var\(--card-bg\)\]{background-color:var(--card-bg)}.bg-\[var\(--enter-btn-bg\)\]{background-color:var(--enter-btn-bg)}.bg-\[var\(--float-panel-bg\)\]{background-color:var(--float-panel-bg)}.bg-\[var\(--page-bg\)\]{background-color:var(--page-bg)}.bg-\[var\(--primary\)\]{background-color:var(--primary)}.bg-black\/20{background-color:rgba(0,0,0,0.2)}.bg-opacity-50{--tw-bg-opacity:.5}.fill-\[var\(--page-bg\)\]{fill:var(--page-bg)}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-3{padding:0.75rem}.p-4{padding:1rem}.px-0{padding-left:0px;padding-right:0px}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-0{padding-top:0px;padding-bottom:0px}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-3{padding-left:0.75rem}.pl-6{padding-left:1.5rem}.pr-1{padding-right:0.25rem}.pr-4{padding-right:1rem}.pr-6{padding-right:1.5rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-6xl{font-size:3.75rem;line-height:1}.text-\[0\.75rem\]{font-size:0.75rem}.text-\[1\.1rem\]{font-size:1.1rem}.text-\[1\.25rem\]{font-size:1.25rem}.text-\[1\.5rem\]{font-size:1.5rem}.text-\[14px\]{font-size:14px}.text-\[1rem\]{font-size:1rem}.text-\[2rem\]{font-size:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.text-\[var\(--primary\)\]{color:var(--primary)}.text-black{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity,1))}.text-black\/25{color:rgba(0,0,0,0.25)}.text-black\/60{color:rgba(0,0,0,0.6)}.text-black\/75{color:rgba(0,0,0,0.75)}.text-black\/90{color:rgba(0,0,0,0.9)}.text-neutral-400{--tw-text-opacity:1;color:rgb(163 163 163 / var(--tw-text-opacity,1))}.text-neutral-500{--tw-text-opacity:1;color:rgb(115 115 115 / var(--tw-text-opacity,1))}.text-neutral-700{--tw-text-opacity:1;color:rgb(64 64 64 / var(--tw-text-opacity,1))}.text-neutral-900{--tw-text-opacity:1;color:rgb(23 23 23 / var(--tw-text-opacity,1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity,1))}.text-white\/90{color:rgba(255,255,255,0.9)}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:0.25}.opacity-50{opacity:0.5}.opacity-75{opacity:0.75}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / .1),0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / .1),0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.drop-shadow-lg{--tw-drop-shadow:drop-shadow(0 10px 8px rgb(0 0 0 / .04)) drop-shadow(0 4px 3px rgb(0 0 0 / .1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-md{--tw-drop-shadow:drop-shadow(0 4px 3px rgb(0 0 0 / .07)) drop-shadow(0 2px 2px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.duration-100{transition-duration:0.1s}.duration-200{transition-duration:0.2s}.duration-300{transition-duration:0.3s}.duration-500{transition-duration:0.5s}.duration-700{transition-duration:0.7s}.ease-in-out{transition-timing-function:cubic-bezier(0.4,0,0.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,0.2,1)}html{scroll-behavior:smooth}.custom-md img,#post-cover img{cursor:zoom-in}.custom-md spoiler:not(:hover) *{color:var(--_spoiler-mask)}.post-list-container.grid-mode .post-card-item a[href]{font-size:1.25rem;line-height:1.75rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.group:hover .group-hover\:h-5{height:1.25rem}.group:hover .group-hover\:translate-x-0{--tw-translate-x:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:translate-x-1{--tw-translate-x:.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:scale-105{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:scale-110{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:border-\[var\(--toc-btn-active\)\]{border-color:var(--toc-btn-active)}.group:hover .group-hover\:bg-\[var\(--primary\)\]{background-color:var(--primary)}.group:hover .group-hover\:bg-black\/30{background-color:rgba(0,0,0,0.3)}.group:hover .group-hover\:bg-transparent{background-color:transparent}.group:hover .group-hover\:text-\[var\(--primary\)\]{color:var(--primary)}.group:hover .group-hover\:opacity-100{opacity:1}.group:hover .group-hover\:outline-\[var\(--btn-plain-bg-hover\)\]{outline-color:var(--btn-plain-bg-hover)}.group:active .group-active\:bg-black\/50{background-color:rgba(0,0,0,0.5)}.group:active .group-active\:text-\[var\(--primary\)\]{color:var(--primary)}.group:active .group-active\:outline-\[var\(--btn-plain-bg-active\)\]{outline-color:var(--btn-plain-bg-active)}.custom-md img{border-radius:0.75rem}.mermaid svg{max-width:100%;height:auto;border-radius:0.5rem;user-select:none;pointer-events:all}.mermaid-error button{transition:0.2s}.mermaid-error button:hover{transform:translateY(-1px);background:var(--primary-hover) !important}.dark .mermaid-diagram-container svg{filter:brightness(0.9) contrast(1.1)}.custom-md h1{font-size:1.875rem;line-height:2.25rem}.custom-md h1 .anchor,.custom-md h2 .anchor,.custom-md h3 .anchor,.custom-md h4 .anchor,.custom-md h5 .anchor,.custom-md h6 .anchor{margin:-0.125rem -0.125rem -0.125rem 0.2ch !important;user-select:none !important;padding:0.125rem !important;text-decoration-line:none !important;opacity:0 !important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter !important;transition-timing-function:cubic-bezier(0.4,0,0.2,1) !important;transition-duration:0.15s !important}.custom-md h1 .anchor .anchor-icon,.custom-md h2 .anchor .anchor-icon,.custom-md h3 .anchor .anchor-icon,.custom-md h4 .anchor .anchor-icon,.custom-md h5 .anchor .anchor-icon,.custom-md h6 .anchor .anchor-icon{margin-left:0.45ch !important;margin-right:0.45ch !important}.custom-md h1:hover .anchor,.custom-md h2:hover .anchor,.custom-md h3:hover .anchor,.custom-md h4:hover .anchor,.custom-md h5:hover .anchor,.custom-md h6:hover .anchor{opacity:1 !important}.custom-md a:not(.no-styling){position:relative;background-image:none;font-weight:500;color:var(--primary);text-decoration-line:underline;text-decoration-color:var(--link-underline);text-decoration-style:dashed;text-decoration-thickness:1px;text-underline-offset:4px;box-decoration-break:clone;-webkit-box-decoration-break:clone}.custom-md a:not(.no-styling):hover,.custom-md a:not(.no-styling):active{background:var(--btn-plain-bg-hover);border-bottom:1px dashed var(--link-hover);text-decoration:none}.custom-md code span.line:last-child:empty,.custom-md code span.line:last-child:has(> span:empty:only-child){display:none}.custom-md ul li::marker,.custom-md ol li::marker{color:var(--primary)}.custom-md .expressive-code ul li::marker,.custom-md .expressive-code ol li::marker{color:inherit}body.wallpaper-transparent .card-base,.wallpaper-transparent .card-base,body.wallpaper-transparent #post-list-container .card-base,body.wallpaper-transparent #post-list-container > * .card-base,body.wallpaper-transparent .post-card-item .card-base,body.wallpaper-transparent .card-base .card-base,.wallpaper-transparent .card-base .card-base{background-image:!important;background-position-x:!important;background-position-y:!important;background-size:!important;background-repeat:!important;background-attachment:!important;background-origin:!important;background-clip:!important;background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}:root.dark body.wallpaper-transparent .card-base,:root.dark .wallpaper-transparent .card-base,:root.dark body.wallpaper-transparent #post-list-container .card-base,:root.dark body.wallpaper-transparent #post-list-container > * .card-base,:root.dark body.wallpaper-transparent .post-card-item .card-base,:root.dark body.wallpaper-transparent .card-base .card-base,:root.dark .wallpaper-transparent .card-base .card-base{background-image:!important;background-position-x:!important;background-position-y:!important;background-size:!important;background-repeat:!important;background-attachment:!important;background-origin:!important;background-clip:!important;background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}body.wallpaper-transparent #post-list-container{background:transparent !important}.transition-main{transition:opacity 0.3s cubic-bezier(0.25,0.46,0.45,0.94),transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94)}.transition-leaving{transition:transform 0.3s cubic-bezier(0.55,0.055,0.675,0.19),opacity 0.3s cubic-bezier(0.55,0.055,0.675,0.19)}html.is-changing .transition-main{transition:opacity 0.3s cubic-bezier(0.25,0.46,0.45,0.94),transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94)}html.is-leaving .transition-main{transition:opacity 0.3s cubic-bezier(0.55,0.055,0.675,0.19),transform 0.3s cubic-bezier(0.55,0.055,0.675,0.19)}html.is-animating .transition-main{opacity:0;transform:translateY(1.5rem) translate(0.5rem)}html.is-animating.is-leaving .transition-leaving{transform:translateY(-1rem) translate(-0.5rem);opacity:0}html.is-changing .transition-swup-fade{transition:0.3s ease-out}html.is-animating .transition-swup-fade{opacity:0;transform:translateY(1.5rem)}.onload-animation{opacity:0;animation:0.3s ease-out 0s 1 normal forwards running fade-in-up}.onload-animation:nth-child(1){animation-delay:0ms}.onload-animation:nth-child(2){animation-delay:50ms}.onload-animation:nth-child(3){animation-delay:0.1s}.onload-animation:nth-child(4){animation-delay:0.15s}.onload-animation:nth-child(5){animation-delay:0.2s}.transition-main,.transition-leaving,.onload-animation,.transition-slide-in,.card-animation{backface-visibility:hidden;-webkit-font-smoothing:antialiased}:root{--f-progressbar-height:3px;--f-progressbar-color:var(--f-carousel-theme-color,#575ad6);--f-progressbar-opacity:1;--f-progressbar-z-index:30}.tk-meta-input div{min-height:2.5rem}.tk-meta-input div .el-input-group__prepend{border-top-left-radius:0.5rem;border-bottom-left-radius:0.5rem;min-height:inherit;background-color:inherit !important}.tk-meta-input div input{min-height:inherit}.tk-meta-input div input:focus{border-color:var(--primary) !important}.tk-comments-title .__comments svg{fill:var(--primary)}.tk-comment .tk-action-icon svg{fill:var(--primary)}.tk-content img,.tk-preview-container img{display:inline;vertical-align:bottom !important}.tk-content a,.tk-preview-container a{font-weight:500;color:var(--primary);text-decoration-line:underline}.tk-content li::before,.tk-preview-container li::before{color:var(--primary);--tw-content:"•";content:var(--tw-content)}.tk-replies .tk-comment .tk-content > span:first-of-type{font-size:0.75rem;line-height:1rem}body:not(.wallpaper-transparent){--card-bg-transparent:var(--card-bg)}.f-button svg{width:var(--f-button-svg-width);height:var(--f-button-svg-height);transform:var(--f-button-svg-transform);fill:var(--f-button-svg-fill);filter:var(--f-button-svg-filter);opacity:var(--f-button-svg-opacity,1);transition:var(--f-button-svg-transition);stroke:currentcolor;stroke-width:var(--f-button-svg-stroke-width);stroke-linecap:round;stroke-linejoin:round;pointer-events:none}.f-button[aria-disabled] svg{opacity:var(--f-button-svg-disabled-opacity)}[data-panzoom-action="toggleFS"] g:first-child{display:flex}[data-panzoom-action="toggleFS"] g:last-child{display:none}.in-fullscreen [data-panzoom-action="toggleFS"] g:first-child{display:none}.in-fullscreen [data-panzoom-action="toggleFS"] g:last-child{display:flex}[data-autoplay-action="toggle"] svg g:first-child{display:flex}[data-autoplay-action="toggle"] svg g:last-child{display:none}.has-autoplay [data-autoplay-action="toggle"] svg g:first-child{display:none}.has-autoplay [data-autoplay-action="toggle"] svg g:last-child{display:flex}:fullscreen [data-fullscreen-action="toggle"] svg [data-fullscreen-action="toggle"] svg g:first-child{display:none}:fullscreen [data-fullscreen-action="toggle"] svg [data-fullscreen-action="toggle"] svg g:last-child{display:flex}picture.f-panzoom__content img{vertical-align:top;width:100%;height:auto;max-height:100%;object-fit:contain;transition:none;user-select:none}.is-vertical .f-button.is-arrow.is-prev svg,.is-vertical .f-button.is-arrow.is-next svg{transform:rotate(90deg)}.f-carousel__toolbar__column > *{pointer-events:all}.f-counter span{padding:0 var(--f-counter-gap,4px)}.f-thumbs img{display:block;width:var(--f-thumb-img-width);height:var(--f-thumb-img-height);object-fit:var(--f-thumb-img-fit);object-position:var(--f-thumb-img-position);pointer-events:none;border-radius:inherit;color:transparent}.f-thumbs img[data-lazy-src]{visibility:hidden}.f-thumbs__slide:hover button{opacity:var(--f-thumb-hover-opacity,1);transform:var(--f-thumb-hover-transform,none)}.f-thumbs__slide:hover button::after{border:var(--f-thumb-hover-border,none);box-shadow:var(--f-thumb-hover-shadow,var(--f-thumb-shadow))}.f-thumbs__slide button{color-scheme:unset;forced-color-adjust:unset;mask:unset;math-depth:unset;position:relative;position-anchor:unset;text-size-adjust:unset;appearance:unset;color:unset;font:unset;font-palette:unset;font-synthesis:unset;position-area:unset;text-orientation:unset;text-rendering:unset;text-spacing-trim:unset;-webkit-font-smoothing:unset;-webkit-locale:unset;-webkit-text-orientation:unset;-webkit-writing-mode:unset;writing-mode:unset;zoom:unset;accent-color:unset;place-content:unset;place-items:unset;place-self:unset;alignment-baseline:unset;anchor-name:unset;anchor-scope:unset;animation-composition:unset;animation:unset;app-region:unset;aspect-ratio:unset;backdrop-filter:unset;backface-visibility:unset;background:var(--f-thumb-bg);background-blend-mode:unset;baseline-shift:unset;baseline-source:unset;block-size:unset;border-block:unset;border:unset;border-radius:var(--f-thumb-border-radius);border-collapse:unset;border-end-end-radius:unset;border-end-start-radius:unset;border-inline:unset;border-start-end-radius:unset;border-start-start-radius:unset;inset:unset;box-decoration-break:unset;box-shadow:unset;box-sizing:unset;break-after:unset;break-before:unset;break-inside:unset;buffered-rendering:unset;caption-side:unset;caret-color:unset;clear:unset;clip:unset;clip-path:unset;clip-rule:unset;color-interpolation:unset;color-interpolation-filters:unset;color-rendering:unset;columns:unset;column-fill:unset;gap:unset;column-rule:unset;column-span:unset;contain:unset;contain-intrinsic-block-size:unset;contain-intrinsic-size:unset;contain-intrinsic-inline-size:unset;container:unset;content:unset;content-visibility:unset;counter-increment:unset;counter-reset:unset;counter-set:unset;cursor:unset;cx:unset;cy:unset;d:unset;display:block;dominant-baseline:unset;dynamic-range-limit:unset;empty-cells:unset;field-sizing:unset;fill:unset;fill-opacity:unset;fill-rule:unset;filter:unset;flex:unset;flex-flow:unset;float:unset;flood-color:unset;flood-opacity:unset;grid:unset;grid-area:unset;height:100%;hyphenate-character:unset;hyphenate-limit-chars:unset;hyphens:unset;image-orientation:unset;image-rendering:unset;initial-letter:unset;inline-size:unset;inset-block:unset;inset-inline:unset;interpolate-size:unset;isolation:unset;letter-spacing:unset;lighting-color:unset;line-break:unset;list-style:unset;margin-block:unset;margin:auto;margin-inline:unset;marker:unset;mask-type:unset;math-shift:unset;math-style:unset;max-block-size:unset;max-height:unset;max-inline-size:unset;max-width:unset;min-block-size:unset;min-height:unset;min-inline-size:unset;min-width:unset;mix-blend-mode:unset;object-fit:unset;object-position:unset;object-view-box:unset;offset:unset;opacity:var(--f-thumb-opacity);order:unset;orphans:unset;outline:none;outline-offset:unset;overflow-anchor:unset;overflow-block:unset;overflow-clip-margin:unset;overflow-inline:unset;overflow-wrap:unset;overflow:visible;overlay:unset;overscroll-behavior-block:unset;overscroll-behavior-inline:unset;overscroll-behavior:unset;padding-block:unset;padding:0px;padding-inline:unset;page:unset;page-orientation:unset;paint-order:unset;perspective:unset;perspective-origin:unset;pointer-events:unset;position-try:unset;position-visibility:unset;print-color-adjust:unset;quotes:unset;r:unset;resize:unset;rotate:unset;ruby-align:unset;ruby-position:unset;rx:unset;ry:unset;scale:unset;scroll-behavior:unset;scroll-initial-target:unset;scroll-margin-block:unset;scroll-margin:unset;scroll-margin-inline:unset;scroll-marker-group:unset;scroll-padding-block:unset;scroll-padding:unset;scroll-padding-inline:unset;scroll-snap-align:unset;scroll-snap-stop:unset;scroll-snap-type:unset;scroll-timeline:unset;scrollbar-color:unset;scrollbar-gutter:unset;scrollbar-width:unset;shape-image-threshold:unset;shape-margin:unset;shape-outside:unset;shape-rendering:unset;size:unset;speak:unset;stop-color:unset;stop-opacity:unset;stroke:unset;stroke-dasharray:unset;stroke-dashoffset:unset;stroke-linecap:unset;stroke-linejoin:unset;stroke-miterlimit:unset;stroke-opacity:unset;stroke-width:unset;tab-size:unset;table-layout:unset;text-align:unset;text-align-last:unset;text-anchor:unset;text-box:unset;text-combine-upright:unset;text-decoration:unset;text-decoration-skip-ink:unset;text-emphasis:unset;text-emphasis-position:unset;text-indent:unset;text-overflow:unset;text-shadow:unset;text-transform:unset;text-underline-offset:unset;text-underline-position:unset;text-wrap:unset;timeline-scope:unset;touch-action:unset;transform:var(--f-thumb-transform);transform-box:unset;transform-origin:unset;transform-style:unset;transition:var(--f-thumb-transition);translate:unset;user-select:unset;vector-effect:unset;vertical-align:unset;view-timeline:unset;view-transition-class:unset;view-transition-name:unset;visibility:unset;border-spacing:unset;-webkit-box-align:unset;-webkit-box-decoration-break:unset;-webkit-box-direction:unset;-webkit-box-flex:unset;-webkit-box-ordinal-group:unset;-webkit-box-orient:unset;-webkit-box-pack:unset;-webkit-box-reflect:unset;-webkit-line-break:unset;-webkit-line-clamp:unset;-webkit-mask-box-image:unset;-webkit-rtl-ordering:unset;-webkit-ruby-position:unset;-webkit-tap-highlight-color:unset;-webkit-text-combine:unset;-webkit-text-decorations-in-effect:unset;-webkit-text-fill-color:unset;-webkit-text-security:unset;-webkit-text-stroke:unset;-webkit-user-drag:unset;white-space-collapse:unset;widows:unset;width:100%;will-change:unset;word-break:unset;word-spacing:unset;x:unset;y:unset;z-index:unset}.f-thumbs__slide button::after{content:"";position:absolute;inset:0px;z-index:1;transition:var(--f-thumb-border-transition);border-radius:inherit;border:var(--f-thumb-border);box-shadow:var(--f-thumb-shadow)}.f-thumbs__slide button:focus-within{opacity:var(--f-thumb-focus-opacity,1);transform:var(--f-thumb-focus-transform,none)}.f-thumbs__slide button:focus-within::after{border:var(--f-thumb-focus-border,none);box-shadow:var(--f-thumb-focus-shadow,var(--f-thumb-shadow))}.f-thumbs__slide.is-selected button{opacity:var(--f-thumb-selected-opacity,1);transform:var(--f-thumb-selected-transform,none)}.f-thumbs__slide.is-selected button::after{border:var(--f-thumb-selected-border,none);box-shadow:var(--f-thumb-selected-shadow,var(--f-thumb-shadow))}.f-thumbs.is-modern .f-thumbs__slide button{display:block;margin-inline:50%;width:var(--f-thumb-width);clip-path:var(--clip-path);border:none;box-shadow:none;transition:clip-path var(--f-transition-duration) var(--f-transition-easing),opacity var(--f-thumb-transition-duration,.2s) var(--f-thumb-transition-easing,ease)}.f-thumbs.is-modern .f-thumbs__slide button::after{display:none}.f-thumbs.is-modern .f-thumbs__slide:focus-within:not(.is-selected) button::before{content:"";position:absolute;z-index:1;top:0px;left:var(--clip-shift);bottom:0px;right:var(--clip-shift);transition:border var(--f-transition-duration) var(--f-transition-easing),box-shadow var(--f-transition-duration) var(--f-transition-easing);border-radius:inherit;border:var(--f-thumb-focus-border,none);box-shadow:var(--f-thumb-focus-shadow,none)}button > .f-progressbar{--f-progressbar-height:100%;--f-progressbar-opacity:.2}[data-fullscreen-action="toggle"] svg g:first-child{display:flex}[data-fullscreen-action="toggle"] svg g:last-child{display:none}:fullscreen [data-fullscreen-action="toggle"] svg g:first-child{display:none}:fullscreen [data-fullscreen-action="toggle"] svg g:last-child{display:flex}html.with-fancybox body.hide-scrollbar{width:auto;margin-right:calc(var(--f-body-margin,0px) + var(--f-scrollbar-compensate,0px));overscroll-behavior-y:none;overflow:hidden !important}.card-base[data-astro-cid-zetdm5md]{animation:0.6s ease-out 0s 1 normal none running fadeInUp}a[data-astro-cid-zetdm5md]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(var(--primary-rgb),.3)}.back-to-top-wrapper[data-astro-cid-eymb5ayk]{width:3.75rem;height:3.75rem;position:absolute;right:0px;top:0px;pointer-events:none}.back-to-top-btn[data-astro-cid-eymb5ayk]{color:var(--primary);font-size:2.25rem;font-weight:700;border:none;position:fixed;bottom:10rem;opacity:1;right:6rem;cursor:pointer;transform:translate(5rem);pointer-events:auto;transition:box-shadow 1s ease-in-out}.back-to-top-btn[data-astro-cid-eymb5ayk] i[data-astro-cid-eymb5ayk]{font-size:1.75rem}.back-to-top-btn[data-astro-cid-eymb5ayk].hide{transform:translate(5rem) scale(0.9);opacity:0;pointer-events:none}.back-to-top-btn[data-astro-cid-eymb5ayk]:active{transform:translate(5rem) scale(0.9)}.typewriter[data-astro-cid-4iv2rnoh]{position:relative;min-height:1.5em;display:inline-block;vertical-align:baseline}.typewriter[data-astro-cid-4iv2rnoh]:empty::before{content:" ";visibility:hidden}table-of-contents[data-astro-cid-7ckeuxew]#toc{max-height:100%;overflow:auto;position:relative;scroll-behavior:smooth;display:block}table-of-contents[data-astro-cid-7ckeuxew]#toc::-webkit-scrollbar{display:none}.dropdown-container[data-astro-cid-qou34bit]{position:relative}.dropdown-menu[data-astro-cid-qou34bit]{pointer-events:none;visibility:hidden;position:absolute;top:100%;left:0px;z-index:50;--tw-translate-y:-8px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));padding-top:0.5rem;opacity:0;transition-property:all;transition-duration:0.2s;transition-timing-function:cubic-bezier(0,0,0.2,1)}.dropdown-container[data-astro-cid-qou34bit]:hover .dropdown-menu[data-astro-cid-qou34bit],.dropdown-container[data-astro-cid-qou34bit]:focus-within .dropdown-menu[data-astro-cid-qou34bit]{pointer-events:auto;visibility:visible;--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.dropdown-container[data-astro-cid-qou34bit]:hover .dropdown-arrow[data-astro-cid-qou34bit],.dropdown-container[data-astro-cid-qou34bit]:focus-within .dropdown-arrow[data-astro-cid-qou34bit]{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.dropdown-content[data-astro-cid-qou34bit]{min-width:12rem;border-radius:var(--radius-large);border-width:1px;border-color:rgba(0,0,0,0.05);background-color:var(--float-panel-bg);padding-top:0.5rem;padding-bottom:0.5rem;--tw-shadow:0 20px 25px -5px rgb(0 0 0 / .1),0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.dropdown-content[data-astro-cid-qou34bit]:is(.dark *){border-color:rgba(255,255,255,0.1);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.dropdown-item[data-astro-cid-qou34bit]{display:flex;align-items:center;justify-content:space-between;padding:0.625rem 1rem;font-weight:500;color:rgba(0,0,0,0.75);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.15s}.dropdown-item[data-astro-cid-qou34bit]:hover{background-color:var(--btn-plain-bg-hover);color:var(--primary)}.dropdown-item[data-astro-cid-qou34bit]:is(.dark *){color:rgba(255,255,255,0.75)}.dropdown-item[data-astro-cid-qou34bit]:first-child{border-top-left-radius:calc(var(--radius-large) - .5rem);border-top-right-radius:calc(var(--radius-large) - .5rem)}.dropdown-item[data-astro-cid-qou34bit]:last-child{border-bottom-right-radius:calc(var(--radius-large) - .5rem);border-bottom-left-radius:calc(var(--radius-large) - .5rem)}.mobile-submenu[data-astro-cid-h5lvqo6o]{max-height:0px;overflow:hidden;transition-property:all;transition-duration:0.3s;transition-timing-function:cubic-bezier(0.4,0,0.2,1)}.mobile-dropdown[data-astro-cid-h5lvqo6o][data-expanded="true"] .mobile-submenu[data-astro-cid-h5lvqo6o]{max-height:24rem}.mobile-dropdown[data-astro-cid-h5lvqo6o][data-expanded="true"] .mobile-dropdown-arrow[data-astro-cid-h5lvqo6o]{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#navbar > div{background:var(--card-bg);border-radius:var(--radius-large);transition:0.3s cubic-bezier(0.4,0,0.2,1)}#navbar[data-dynamic-transparent="semi"] > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark #navbar[data-dynamic-transparent="semi"] > div{background:var(--card-bg-transparent) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}#navbar[data-dynamic-transparent="none"] > div{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.05) 0px 2px 8px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark #navbar[data-dynamic-transparent="none"] > div{background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.15) 0px 2px 8px !important}#navbar[data-dynamic-transparent="none"] .dropdown-content{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #navbar[data-dynamic-transparent="none"] .dropdown-content{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}#navbar[data-dynamic-transparent="none"] ~ * #display-setting{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #navbar[data-dynamic-transparent="none"] ~ * #display-setting{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}#navbar[data-dynamic-transparent="none"] #nav-menu-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #navbar[data-dynamic-transparent="none"] #nav-menu-panel{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}#navbar[data-dynamic-transparent="none"] #mobile-toc-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #navbar[data-dynamic-transparent="none"] #mobile-toc-panel{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}#navbar[data-dynamic-transparent="none"] ~ * #search-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #navbar[data-dynamic-transparent="none"] ~ * #search-panel{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside{background:rgba(0,0,0,0.08) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside{background:rgba(255,255,255,0.15) !important}body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:hover{background:rgba(0,0,0,0.12) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:hover{background:rgba(255,255,255,0.2) !important}body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:focus-within{background:rgba(0,0,0,0.12) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:focus-within{background:rgba(255,255,255,0.2) !important}body:has(#navbar[data-dynamic-transparent="none"]) .float-panel{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .float-panel{background:var(--card-bg) !important}body:has(#navbar[data-dynamic-transparent="none"]) .dropdown-content,body:has(#navbar[data-dynamic-transparent="none"]) #navbar .dropdown-content{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .dropdown-content,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #navbar .dropdown-content{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body:has(#navbar[data-dynamic-transparent="none"]) .music-player .mini-player,body:has(#navbar[data-dynamic-transparent="none"]) .music-player .expanded-player,body:has(#navbar[data-dynamic-transparent="none"]) .music-player .playlist-panel{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .music-player .mini-player,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .music-player .expanded-player,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .music-player .playlist-panel{background:var(--card-bg) !important}body:has(#navbar[data-dynamic-transparent="none"]) #mobile-toc-panel,#navbar[data-dynamic-transparent="none"] ~ * #mobile-toc-panel{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #mobile-toc-panel,:root.dark #navbar[data-dynamic-transparent="none"] ~ * #mobile-toc-panel{background:var(--card-bg) !important}body:has(#navbar[data-dynamic-transparent="none"]) #nav-menu-panel,#navbar[data-dynamic-transparent="none"] ~ * #nav-menu-panel{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #nav-menu-panel,:root.dark #navbar[data-dynamic-transparent="none"] ~ * #nav-menu-panel{background:var(--card-bg) !important}body:has(#navbar[data-dynamic-transparent="none"]) #display-setting,#navbar[data-dynamic-transparent="none"] ~ * #display-setting{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #display-setting,:root.dark #navbar[data-dynamic-transparent="none"] ~ * #display-setting{background:var(--card-bg) !important}body:has(#navbar[data-dynamic-transparent="none"]) #search-panel{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel{background:var(--card-bg) !important}.fancybox__button svg{filter:drop-shadow(rgba(0,0,0,0.5) 0px 1px 2px)}.expressive-code.collapsible .collapse-toggle-btn svg{width:1rem;height:1rem;fill:var(--btn-content);transition:transform 0.3s;pointer-events:none}.expressive-code.collapsed .collapse-toggle-btn svg{transform:rotate(180deg)}.float-panel:not(.float-panel-closed){transform:scaleY(1) scaleX(1);pointer-events:auto}#nav-menu-panel{transform-origin:right top}.enable-banner.is-home #banner-wrapper{height:var(--banner-height-home);--tw-translate-y:var(--banner-height-extend);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.enable-banner #banner-wrapper{height:var(--banner-height-home)}.enable-banner #banner{height:var(--banner-height-home);--tw-translate-y:var(--bannerOffset);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.enable-banner.is-home #main-grid{--tw-translate-y:var(--banner-height-extend);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.enable-banner #top-row{height:calc(var(--banner-height-home) - 4.5rem);transition-property:all;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:0.3s}.waves > .parallax use{animation:25s cubic-bezier(0.5,0.5,0.45,0.5) 0s infinite normal none running wave}.banner-title[data-astro-cid-haiuh7kc]{text-shadow:rgba(0,0,0,0.7) 2px 2px 4px;animation:1s ease-out 0s 1 normal none running fadeInUp;font-weight:700}.banner-subtitle[data-astro-cid-haiuh7kc]{text-shadow:rgba(0,0,0,0.6) 1px 1px 2px;animation:1s ease-out 0.3s 1 normal both running fadeInUp;min-height:1.5em;line-height:1.2}body.no-banner-mode .absolute[data-astro-cid-haiuh7kc].w-full.z-30{top:5.5rem !important}.right-sidebar-container[data-astro-cid-haiuh7kc].hidden-in-grid-mode{display:none !important}.waves[data-astro-cid-haiuh7kc]{overflow:visible;z-index:5;transform:translateZ(0px);will-change:transform;contain:layout style paint}.waves[data-astro-cid-haiuh7kc] svg[data-astro-cid-haiuh7kc]{width:100%;height:100%;display:block;transform:translateZ(0px);backface-visibility:hidden}.waves[data-astro-cid-haiuh7kc] use[data-astro-cid-haiuh7kc]{will-change:fill}#header-waves[data-astro-cid-haiuh7kc]{isolation:isolate;contain:layout style paint;margin-bottom:-1px}.theme-changing[data-astro-cid-haiuh7kc] #header-waves[data-astro-cid-haiuh7kc],.theme-changing[data-astro-cid-haiuh7kc] #header-waves[data-astro-cid-haiuh7kc] svg[data-astro-cid-haiuh7kc],.theme-changing[data-astro-cid-haiuh7kc] #header-waves[data-astro-cid-haiuh7kc] use[data-astro-cid-haiuh7kc]{will-change:auto;transform:translateZ(0px);backface-visibility:hidden}.password-container[data-astro-cid-732embm3] h2[data-astro-cid-732embm3]{margin-bottom:0.5rem;color:rgba(0,0,0,0.85);font-size:1.5rem}.dark .password-container[data-astro-cid-732embm3] h2[data-astro-cid-732embm3]{color:rgba(255,255,255,0.85)}.card-base[data-astro-cid-fepk5tcl]{container-type:inline-size}.onload-animation[data-astro-cid-komnyuwm]{animation:0.6s cubic-bezier(0.25,0.1,0.25,1) 0s 1 normal forwards running fadeInUp;opacity:0}.card-base[data-astro-cid-pyfuvgrx]{background:var(--card-bg);border:1px solid var(--line-divider);transition:0.3s}.image-item[data-astro-cid-pyfuvgrx] img[data-astro-cid-pyfuvgrx]{transition:transform 0.3s}.image-item[data-astro-cid-pyfuvgrx]:hover img[data-astro-cid-pyfuvgrx]{transform:scale(1.05)}.orb-player{position:relative;backdrop-filter:blur(10px)}.orb-player::before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,var(--primary),transparent,var(--primary));border-radius:50%;z-index:-1;opacity:0;transition:opacity 0.3s}.orb-player:hover::before{opacity:0.3;animation:2s linear 0s infinite normal none running rotate}.orb-player .animate-pulse{animation:1.5s ease-in-out 0s infinite normal none running musicWave}.music-player{max-width:320px;user-select:none}.mini-player{width:280px;position:absolute;bottom:0px;right:0px}.expanded-player{width:320px;position:absolute;bottom:0px;right:0px}.progress-section div:hover,.bottom-controls > div:hover{transform:scaleY(1.2);transition:transform 0.2s}.cover-container img{animation:3s linear 0s infinite normal none paused spin-continuous}.cover-container img.spinning{animation-play-state:running}@media screen and (max-width:768px){#pio{width:8em}.pio-container{pointer-events:none}}@media (min-width:640px){.container{max-width:640px}.sm\:flex-row{flex-direction:row}}@media (min-width:1280px){.container{max-width:1280px}.md\:absolute{position:absolute}.md\:bottom-3{bottom:0.75rem}.md\:right-3{right:0.75rem}.md\:top-3{top:0.75rem}.md\:mb-0{margin-bottom:0px}.md\:mb-4{margin-bottom:1rem}.md\:block{display:block}.md\:inline{display:inline}.md\:\!flex{display:flex !important}.md\:flex{display:flex}.md\:\!hidden{display:none !important}.md\:hidden{display:none}.md\:h-\[15vh\]{height:15vh}.md\:w-\[calc\(100\%_-_52px_-_12px\)\]{width:calc(100% - 64px)}.md\:flex-row{flex-direction:row}.md\:flex-col{flex-direction:column}.md\:justify-between{justify-content:space-between}.md\:gap-3{gap:0.75rem}.md\:gap-4{gap:1rem}.md\:bg-transparent{background-color:transparent}.md\:px-0{padding-left:0px;padding-right:0px}.md\:px-4{padding-left:1rem;padding-right:1rem}.md\:py-0{padding-top:0px;padding-bottom:0px}.md\:pl-9{padding-left:2.25rem}.md\:pr-2{padding-right:0.5rem}.md\:pt-7{padding-top:1.75rem}.md\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\:text-\[16px\]{font-size:16px}.md\:text-base{font-size:1rem;line-height:1.5rem}.md\:text-lg{font-size:1.125rem;line-height:1.75rem}.md\:text-sm{font-size:0.875rem;line-height:1.25rem}.md\:text-xl{font-size:1.25rem;line-height:1.75rem}.lg\:col-span-1{grid-column:span 1 / span 1}.lg\:col-start-1{grid-column-start:1}.lg\:col-start-2{grid-column-start:2}.lg\:col-start-3{grid-column-start:3}.lg\:col-end-2{grid-column-end:2}.lg\:col-end-3{grid-column-end:3}.lg\:col-end-4{grid-column-end:4}.lg\:row-start-1{grid-row-start:1}.lg\:row-end-2{grid-row-end:2}.lg\:mx-0{margin-left:0px;margin-right:0px}.lg\:mb-4{margin-bottom:1rem}.lg\:mt-0{margin-top:0px}.lg\:block{display:block}.lg\:flex{display:flex}.lg\:\!hidden{display:none !important}.lg\:hidden{display:none}.lg\:w-3\/4{width:75%}.lg\:w-full{width:100%}.lg\:max-w-\[17\.5rem\]{max-width:17.5rem}.lg\:max-w-none{max-width:none}.lg\:grid-cols-1{grid-template-columns:repeat(1,minmax(0px,1fr))}.lg\:grid-cols-\[17\.5rem_1fr\]{grid-template-columns:17.5rem 1fr}.lg\:grid-cols-\[17\.5rem_1fr_17\.5rem\]{grid-template-columns:17.5rem 1fr 17.5rem}.lg\:grid-rows-\[auto\]{grid-template-rows:auto}.lg\:flex-row{flex-direction:row}.lg\:items-center{align-items:center}.lg\:justify-between{justify-content:space-between}.lg\:gap-4{gap:1rem}.lg\:text-3xl{font-size:1.875rem;line-height:2.25rem}.lg\:text-8xl{font-size:6rem;line-height:1}.lg\:text-base{font-size:1rem;line-height:1.5rem}.lg\:text-lg{font-size:1.125rem;line-height:1.75rem}#sidebar[data-astro-cid-gfmxq3pg]{display:var(--sidebar-desktop-display,block)}#banner-wrapper ~ * #navbar[data-transparent-mode="semi"] > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] > div{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.55) !important;border:1px solid rgba(255,255,255,0.55) !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.1) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] > div{background:rgba(0,0,0,0.55) !important;border:1px solid rgba(0,0,0,0.55) !important;box-shadow:rgba(0,0,0,0.2) 0px 4px 16px !important}#banner-wrapper ~ * #navbar[data-transparent-mode="full"] > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] > div{backdrop-filter:none !important;background:transparent !important;border:none !important;border-radius:0px !important;box-shadow:none !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}#banner-wrapper ~ * #navbar[data-transparent-mode="semifull"] > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"] > div{backdrop-filter:none !important;background:transparent !important;border:none !important;border-radius:0px !important;box-shadow:none !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}#banner-wrapper ~ * #navbar[data-transparent-mode="semifull"].scrolled > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"].scrolled > div{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.55) !important;border:1px solid rgba(255,255,255,0.55) !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.1) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semifull"] > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semifull"].scrolled > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"].scrolled > div{background:rgba(0,0,0,0.55) !important;border:1px solid rgba(0,0,0,0.55) !important;box-shadow:rgba(0,0,0,0.2) 0px 4px 16px !important}#banner-wrapper ~ * .float-panel,body:has(#banner-wrapper) .float-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * .dropdown-content,body:has(#banner-wrapper) .dropdown-content{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * #display-setting,body:has(#banner-wrapper) #display-setting{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * #nav-menu-panel,body:has(#banner-wrapper) #nav-menu-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * #mobile-toc-panel,body:has(#banner-wrapper) #mobile-toc-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * #search-panel,body:has(#banner-wrapper) #search-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * .float-panel,:root.dark body:has(#banner-wrapper) .float-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * .dropdown-content,:root.dark body:has(#banner-wrapper) .dropdown-content{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #display-setting,:root.dark body:has(#banner-wrapper) #display-setting{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #nav-menu-panel,:root.dark body:has(#banner-wrapper) #nav-menu-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #mobile-toc-panel,:root.dark body:has(#banner-wrapper) #mobile-toc-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #search-panel,:root.dark body:has(#banner-wrapper) #search-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-transparent-mode="semi"] > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semi"] > div{background:var(--card-bg-transparent) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-transparent-mode="full"] > div{backdrop-filter:none !important;background:transparent !important;border:none !important;border-radius:0px !important;box-shadow:none !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}body.wallpaper-transparent #navbar[data-transparent-mode="semifull"] > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}body.wallpaper-transparent #navbar[data-transparent-mode="semifull"].scrolled > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="full"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semifull"] > div{background:var(--card-bg-transparent) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semifull"].scrolled > div{background:var(--card-bg-transparent) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.wallpaper-transparent .dropdown-content,body.wallpaper-transparent #display-setting,body.wallpaper-transparent #nav-menu-panel,body.wallpaper-transparent #mobile-toc-panel,body.wallpaper-transparent #search-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body.wallpaper-transparent .dropdown-content{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #nav-menu-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}.lg\:is-home.enable-banner #banner-wrapper{height:var(--banner-height-home);--tw-translate-y:var(--banner-height-extend);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.lg\:is-home.enable-banner #main-grid{--tw-translate-y:var(--banner-height-extend);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}body.enable-banner .absolute[data-astro-cid-haiuh7kc].w-full.z-30{top:35vh !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{align-items:center !important;justify-content:center !important;padding:2rem !important;text-align:center !important}.banner-text-overlay[data-astro-cid-haiuh7kc] > div[data-astro-cid-haiuh7kc]{margin-bottom:0px !important;width:75% !important;text-align:center !important}.carousel-item[data-astro-cid-haiuh7kc] img[data-astro-cid-haiuh7kc],#banner[data-astro-cid-haiuh7kc] img[data-astro-cid-haiuh7kc]{object-position:center center !important;transition:transform 1s ease-out !important}.carousel-item[data-astro-cid-haiuh7kc]{transition:0.5s ease-out !important;transform-origin:center center !important}.carousel-item[data-astro-cid-haiuh7kc].opacity-100.scale-100{transform:scale(1) !important;opacity:1 !important}.carousel-item[data-astro-cid-haiuh7kc].opacity-0.scale-110{transform:scale(1.15) !important;opacity:0 !important}#banner-carousel[data-astro-cid-haiuh7kc]{overflow:hidden !important}.waves[data-astro-cid-haiuh7kc]{height:15vh !important;min-height:80px !important;max-height:150px !important}#main-grid[data-astro-cid-haiuh7kc][data-layout-mode="grid"]{grid-template-columns:17.5rem 1fr !important}#main-grid[data-astro-cid-haiuh7kc][data-layout-mode="grid"] #swup-container[data-astro-cid-haiuh7kc]{grid-column:2 / 3}}@media (min-width:1536px){.container{max-width:1536px}.\32 xl\:block{display:block}}@media (min-width:769px) and (max-width:1280px){body.wallpaper-transparent .card-base,body.wallpaper-transparent #post-list-container .card-base,body.wallpaper-transparent .post-card-item .card-base{background-image:!important;background-position-x:!important;background-position-y:!important;background-size:!important;background-repeat:!important;background-attachment:!important;background-origin:!important;background-clip:!important;background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}:root.dark body.wallpaper-transparent .card-base,:root.dark body.wallpaper-transparent #post-list-container .card-base,:root.dark body.wallpaper-transparent .post-card-item .card-base{background-image:!important;background-position-x:!important;background-position-y:!important;background-size:!important;background-repeat:!important;background-attachment:!important;background-origin:!important;background-clip:!important;background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}}@media (min-width:1281px){body.wallpaper-transparent .card-base,body.wallpaper-transparent #post-list-container .card-base,body.wallpaper-transparent .post-card-item .card-base{background-image:!important;background-position-x:!important;background-position-y:!important;background-size:!important;background-repeat:!important;background-attachment:!important;background-origin:!important;background-clip:!important;background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}:root.dark body.wallpaper-transparent .card-base,:root.dark body.wallpaper-transparent #post-list-container .card-base,:root.dark body.wallpaper-transparent .post-card-item .card-base{background-image:!important;background-position-x:!important;background-position-y:!important;background-size:!important;background-repeat:!important;background-attachment:!important;background-origin:!important;background-clip:!important;background-color:var(--card-bg-transparent) !important;backdrop-filter:blur(8px) !important}}@media (min-width:769px) and (max-width:1024px){#right-sidebar[data-astro-cid-dnkjr6w2]{display:var(--sidebar-tablet-display,block)}}@media (min-width:1025px){#right-sidebar[data-astro-cid-dnkjr6w2]{display:var(--sidebar-desktop-display,block)}}@media (max-width:1280px){#sidebar[data-astro-cid-gfmxq3pg]{display:var(--sidebar-mobile-display,block)}}@media (min-width:769px) and (max-width:1279px){#sidebar[data-astro-cid-gfmxq3pg]{display:var(--sidebar-tablet-display,block)}}@media (max-width:1279px){#banner-wrapper ~ * #navbar[data-transparent-mode="semi"][data-is-home="true"] > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"][data-is-home="true"] > div{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.55) !important;border:1px solid rgba(255,255,255,0.55) !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.1) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semi"][data-is-home="true"] > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"][data-is-home="true"] > div{background:rgba(0,0,0,0.55) !important;border:1px solid rgba(0,0,0,0.55) !important;box-shadow:rgba(0,0,0,0.2) 0px 4px 16px !important}#banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] > div{backdrop-filter:none !important;background:transparent !important;border:none !important;border-radius:0px !important;box-shadow:none !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}#banner-wrapper ~ * #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div{backdrop-filter:none !important;background:transparent !important;border:none !important;border-radius:0px !important;box-shadow:none !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}#banner-wrapper ~ * #navbar[data-transparent-mode="semifull"][data-is-home="true"].scrolled > div,body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"][data-is-home="true"].scrolled > div{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.55) !important;border:1px solid rgba(255,255,255,0.55) !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.1) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semifull"][data-is-home="true"].scrolled > div,:root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semifull"][data-is-home="true"].scrolled > div{background:rgba(0,0,0,0.55) !important;border:1px solid rgba(0,0,0,0.55) !important;box-shadow:rgba(0,0,0,0.2) 0px 4px 16px !important}#banner-wrapper ~ * #navbar[data-is-home="true"] .float-panel,body:has(#banner-wrapper) #navbar[data-is-home="true"] .float-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * #navbar[data-is-home="true"] .dropdown-content,body:has(#banner-wrapper) #navbar[data-is-home="true"] .dropdown-content{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}#banner-wrapper ~ * #navbar[data-is-home="true"] ~ * #display-setting,body:has(#banner-wrapper) #navbar[data-is-home="true"] ~ * #display-setting{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-is-home="true"] #nav-menu-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-is-home="true"] #mobile-toc-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-is-home="true"] #search-panel{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-is-home="true"] #display-setting{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #navbar[data-is-home="true"] .float-panel,:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] .float-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #navbar[data-is-home="true"] .dropdown-content,:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] .dropdown-content{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark #banner-wrapper ~ * #navbar[data-is-home="true"] ~ * #display-setting,:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] ~ * #display-setting{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #nav-menu-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #mobile-toc-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #display-setting{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #search-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-transparent-mode="semi"][data-is-home="true"] > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semi"][data-is-home="true"] > div{background:var(--card-bg-transparent) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-transparent-mode="full"][data-is-home="true"] > div{backdrop-filter:none !important;background:transparent !important;border:none !important;border-radius:0px !important;box-shadow:none !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}body.wallpaper-transparent #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}body.wallpaper-transparent #navbar[data-transparent-mode="semifull"][data-is-home="true"].scrolled > div{backdrop-filter:blur(8px) !important;background:var(--card-bg-transparent) !important;border:none !important;border-radius:0.75rem !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important;transition:0.3s cubic-bezier(0.4,0,0.2,1) !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="full"][data-is-home="true"] > div,:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semifull"][data-is-home="true"] > div{background:transparent !important;border:none !important;box-shadow:none !important}:root.dark body.wallpaper-transparent #navbar[data-transparent-mode="semifull"][data-is-home="true"].scrolled > div{background:var(--card-bg-transparent) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-is-home="true"] .dropdown-content{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-is-home="true"] ~ * #display-setting{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}body.wallpaper-transparent #navbar[data-is-home="true"] #nav-menu-panel,body.wallpaper-transparent #navbar[data-is-home="true"] #mobile-toc-panel,body.wallpaper-transparent #navbar[data-is-home="true"] #search-panel,body.wallpaper-transparent #navbar[data-is-home="true"] #display-setting{backdrop-filter:blur(20px) !important;background:rgba(255,255,255,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-is-home="true"] .dropdown-content{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-is-home="true"] ~ * #display-setting{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-is-home="true"] #nav-menu-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-is-home="true"] #mobile-toc-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-is-home="true"] #search-panel{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}:root.dark body.wallpaper-transparent #navbar[data-is-home="true"] #display-setting{background:rgba(24,25,38,0.85) !important;border:none !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .float-panel,body:has(#navbar[data-dynamic-transparent="none"]) .float-panel,#navbar[data-dynamic-transparent="none"] ~ * .float-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important}:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .float-panel,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .float-panel,:root.dark #navbar[data-dynamic-transparent="none"] ~ * .float-panel{background:var(--card-bg) !important}body.no-banner-mode #search-panel,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] ~ * #search-panel,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #search-panel,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel,body:has(#navbar[data-dynamic-transparent="none"]) #search-panel,#navbar[data-dynamic-transparent="none"] ~ * #search-panel,#navbar[data-dynamic-transparent="none"] #search-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body.no-banner-mode #search-panel,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] ~ * #search-panel,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #search-panel,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel,:root.dark #navbar[data-dynamic-transparent="none"] ~ * #search-panel,:root.dark #navbar[data-dynamic-transparent="none"] #search-panel{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.no-banner-mode #search-panel #search-bar-inside,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel #search-bar-inside,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside,body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside,#navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside{background:rgba(0,0,0,0.08) !important}:root.dark body.no-banner-mode #search-panel #search-bar-inside,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel #search-bar-inside,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside,:root.dark #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside{background:rgba(255,255,255,0.15) !important}body.no-banner-mode #search-panel #search-bar-inside:hover,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel #search-bar-inside:hover,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:hover,body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:hover,#navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:hover{background:rgba(0,0,0,0.12) !important}:root.dark body.no-banner-mode #search-panel #search-bar-inside:hover,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel #search-bar-inside:hover,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:hover,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:hover,:root.dark #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:hover{background:rgba(255,255,255,0.2) !important}body.no-banner-mode #search-panel #search-bar-inside:focus-within,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel #search-bar-inside:focus-within,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:focus-within,body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:focus-within,#navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:focus-within{background:rgba(0,0,0,0.12) !important}:root.dark body.no-banner-mode #search-panel #search-bar-inside:focus-within,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #search-panel #search-bar-inside:focus-within,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:focus-within,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #search-panel #search-bar-inside:focus-within,:root.dark #navbar[data-dynamic-transparent="none"] #search-panel #search-bar-inside:focus-within{background:rgba(255,255,255,0.2) !important}body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #nav-menu-panel,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #nav-menu-panel,body:has(#navbar[data-dynamic-transparent="none"]) #nav-menu-panel,#navbar[data-dynamic-transparent="none"] #nav-menu-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #nav-menu-panel,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #nav-menu-panel,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #nav-menu-panel,:root.dark #navbar[data-dynamic-transparent="none"] #nav-menu-panel{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #mobile-toc-panel,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #mobile-toc-panel,body:has(#navbar[data-dynamic-transparent="none"]) #mobile-toc-panel,#navbar[data-dynamic-transparent="none"] #mobile-toc-panel{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #mobile-toc-panel,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #mobile-toc-panel,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #mobile-toc-panel,:root.dark #navbar[data-dynamic-transparent="none"] #mobile-toc-panel{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body.no-banner-mode #display-setting,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] ~ * #display-setting,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #display-setting,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #display-setting,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #display-setting,body:has(#navbar[data-dynamic-transparent="none"]) #display-setting,#navbar[data-dynamic-transparent="none"] ~ * #display-setting,#navbar[data-dynamic-transparent="none"] #display-setting{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body.no-banner-mode #display-setting,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] ~ * #display-setting,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * #display-setting,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] #display-setting,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] #display-setting,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #display-setting,:root.dark #navbar[data-dynamic-transparent="none"] ~ * #display-setting,:root.dark #navbar[data-dynamic-transparent="none"] #display-setting{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] .dropdown-content,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] .dropdown-content,body:has(#navbar[data-dynamic-transparent="none"]) .dropdown-content,body:has(#navbar[data-dynamic-transparent="none"]) #navbar .dropdown-content{backdrop-filter:none !important;background:var(--card-bg) !important;border:none !important;box-shadow:rgba(0,0,0,0.08) 0px 4px 16px !important}:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"][data-is-home="true"] .dropdown-content,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] .dropdown-content,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .dropdown-content,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) #navbar .dropdown-content{background:var(--card-bg) !important;box-shadow:rgba(0,0,0,0.18) 0px 4px 16px !important}body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .music-player .mini-player,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .music-player .expanded-player,body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .music-player .playlist-panel,body:has(#navbar[data-dynamic-transparent="none"]) .music-player .mini-player,body:has(#navbar[data-dynamic-transparent="none"]) .music-player .expanded-player,body:has(#navbar[data-dynamic-transparent="none"]) .music-player .playlist-panel{backdrop-filter:none !important;background:var(--card-bg) !important}:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .music-player .mini-player,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .music-player .expanded-player,:root.dark body:has(#banner-wrapper) #navbar[data-dynamic-transparent="none"] ~ * .music-player .playlist-panel,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .music-player .mini-player,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .music-player .expanded-player,:root.dark body:has(#navbar[data-dynamic-transparent="none"]) .music-player .playlist-panel{background:var(--card-bg) !important}.carousel-item[data-astro-cid-haiuh7kc] img[data-astro-cid-haiuh7kc],#banner[data-astro-cid-haiuh7kc] img[data-astro-cid-haiuh7kc]{object-position:center center !important;transition:transform 0.5s ease-out !important}.carousel-item[data-astro-cid-haiuh7kc]{transform:translateZ(0px);will-change:transform,opacity;touch-action:pan-y;user-select:none}.carousel-item[data-astro-cid-haiuh7kc].opacity-100.scale-100{transform:scale(1) !important;opacity:1 !important}.carousel-item[data-astro-cid-haiuh7kc].opacity-0.scale-110{transform:scale(1.15) !important;opacity:0 !important}#banner-carousel[data-astro-cid-haiuh7kc]{overflow:hidden !important}#banner-wrapper[data-astro-cid-haiuh7kc]{transition:transform 0.5s cubic-bezier(0.25,0.46,0.45,0.94),opacity 0.3s ease-out;transform-origin:center top;will-change:transform,opacity;backface-visibility:hidden;transform:translateZ(0px)}.absolute[data-astro-cid-haiuh7kc].w-full.z-30{transition:top 0.4s cubic-bezier(0.25,0.46,0.45,0.94) 0.1s;will-change:top}.absolute[data-astro-cid-haiuh7kc].w-full.z-30.mobile-main-no-banner{top:5.5rem !important;min-height:calc(-5.5rem + 100vh) !important;transition:top 0.3s cubic-bezier(0.25,0.46,0.45,0.94) 0.2s !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{-webkit-font-smoothing:antialiased;text-rendering:optimizelegibility;contain:layout style}.banner-container[data-astro-cid-haiuh7kc] img[data-astro-cid-haiuh7kc]{image-rendering:-webkit-optimize-contrast;-webkit-user-drag:none;pointer-events:none}.absolute[data-astro-cid-haiuh7kc].w-full.z-30.no-banner-layout{top:5.5rem !important;min-height:calc(-5.5rem + 100vh) !important;transition:none !important}#header-waves[data-astro-cid-haiuh7kc]{overflow:visible;z-index:5;transition:transform 0.3s ease-in,opacity 0.2s ease-in}.mobile-hide-banner[data-astro-cid-haiuh7kc] #header-waves[data-astro-cid-haiuh7kc]{transform:translateY(-100%);opacity:0;transition:transform 0.25s ease-in,opacity 0.15s ease-in}.waves[data-astro-cid-haiuh7kc] svg[data-astro-cid-haiuh7kc]{min-height:60px}.waves[data-astro-cid-haiuh7kc]{bottom:-1px !important;position:absolute !important}}@media (min-width:768px) and (max-width:1279px){#navbar > div{border-radius:1rem !important}}@media (max-width:768px){.float-panel-closed{transform:scaleY(0) scaleX(0.85)}.mobile-no-sidebar[data-astro-cid-haiuh7kc] main[data-astro-cid-haiuh7kc]{width:100% !important;max-width:100% !important;margin:0px !important;padding-left:0px !important;padding-right:0px !important}.mobile-no-sidebar[data-astro-cid-haiuh7kc] #content-wrapper[data-astro-cid-haiuh7kc]{width:100% !important;max-width:100% !important;margin:0px !important}.mobile-both-sidebar[data-astro-cid-haiuh7kc]{grid-template-columns:1fr !important;padding-left:0.5rem !important;padding-right:0.5rem !important}.mobile-both-sidebar[data-astro-cid-haiuh7kc] main[data-astro-cid-haiuh7kc]{grid-column:1 / -1 !important;width:100% !important;margin:0px auto !important}.mobile-both-sidebar[data-astro-cid-haiuh7kc] .footer[data-astro-cid-haiuh7kc]{grid-column:1 / -1 !important}.password-container[data-astro-cid-732embm3] h2[data-astro-cid-732embm3]{font-size:1.25rem;margin-bottom:0.75rem}.music-player{max-width:280px;bottom:8px !important;right:8px !important}.controls{gap:8px}.controls button{width:36px;height:36px}.controls button:nth-child(3){width:44px;height:44px}}@media (hover:none) and (pointer:coarse){.float-panel{touch-action:manipulation}.music-player button,.playlist-item{min-height:44px}.progress-section > div,.bottom-controls > div:nth-child(2){height:12px}}@media (min-width:481px) and (max-width:640px){body.enable-banner #banner-wrapper[data-astro-cid-haiuh7kc]:not(.mobile-hide-banner){min-height:500px;max-height:none;height:75vh !important;top:0px !important}body.enable-banner .absolute[data-astro-cid-haiuh7kc].w-full.z-30:not(.mobile-main-no-banner){top:75vh !important;min-height:25vh !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{align-items:center !important;justify-content:center !important;padding:1.5rem !important;text-align:center !important}.banner-text-overlay[data-astro-cid-haiuh7kc] > div[data-astro-cid-haiuh7kc]{margin-bottom:0px !important;width:90% !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:3.8rem !important;line-height:1.1 !important;margin-bottom:0.75rem !important;text-shadow:rgba(0,0,0,0.8) 2px 2px 8px !important}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:1.125rem !important;line-height:1.4 !important;text-shadow:rgba(0,0,0,0.7) 1px 1px 4px !important}.waves[data-astro-cid-haiuh7kc]{height:10vh !important;min-height:70px !important;max-height:100px !important}}@media (min-width:641px) and (max-width:1279px){body.enable-banner #banner-wrapper[data-astro-cid-haiuh7kc]:not(.mobile-hide-banner){min-height:500px;height:70vh !important;top:0px !important}body.enable-banner .absolute[data-astro-cid-haiuh7kc].w-full.z-30:not(.mobile-main-no-banner){top:70vh !important;min-height:30vh !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{align-items:center !important;justify-content:center !important;padding:2rem !important;text-align:center !important}.banner-text-overlay[data-astro-cid-haiuh7kc] > div[data-astro-cid-haiuh7kc]{margin-bottom:0px !important;width:85% !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:4rem !important;line-height:1.1 !important;margin-bottom:1rem !important;text-shadow:rgba(0,0,0,0.8) 2px 2px 8px !important}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:1.5rem !important;line-height:1.4 !important;text-shadow:rgba(0,0,0,0.7) 1px 1px 4px !important}.waves[data-astro-cid-haiuh7kc]{height:12vh !important;min-height:80px !important;max-height:120px !important}.mobile-both-sidebar[data-astro-cid-haiuh7kc]{grid-template-columns:1fr !important;padding-left:1rem !important;padding-right:1rem !important}.mobile-both-sidebar[data-astro-cid-haiuh7kc] main[data-astro-cid-haiuh7kc]{grid-column:1 / -1 !important;width:100% !important;margin:0px auto !important}.mobile-both-sidebar[data-astro-cid-haiuh7kc] .footer[data-astro-cid-haiuh7kc]{grid-column:1 / -1 !important}.absolute[data-astro-cid-haiuh7kc].w-full.z-30.no-banner-layout{top:5.5rem !important;min-height:calc(-5.5rem + 100vh) !important;transition:none !important}}@media (min-width:768px) and (max-width:1023px){#main-grid[data-astro-cid-haiuh7kc][data-layout-mode="grid"]{grid-template-columns:1fr !important;grid-template-rows:auto 1fr auto !important}#main-grid[data-astro-cid-haiuh7kc][data-layout-mode="grid"] #swup-container[data-astro-cid-haiuh7kc]{grid-area:1 / 1 / 2 / 2}}@media (max-width:1279px) and (orientation:landscape){#banner-wrapper[data-astro-cid-haiuh7kc]:not(.mobile-hide-banner){top:0px !important;height:60vh !important}.absolute[data-astro-cid-haiuh7kc].w-full.z-30:not(.mobile-main-no-banner){top:60vh !important;min-height:40vh !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{padding:1rem 1.5rem;align-items:center !important;justify-content:center !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:2.2rem !important;line-height:1.3}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:0.9rem;margin-top:0.5rem}}@media (max-width:1279px) and (prefers-color-scheme:dark){.banner-text-overlay[data-astro-cid-haiuh7kc]{background:linear-gradient(to top,rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 50%,transparent 100%)}.banner-title[data-astro-cid-haiuh7kc]{text-shadow:rgba(0,0,0,0.8) 2px 2px 8px}.banner-subtitle[data-astro-cid-haiuh7kc]{text-shadow:rgba(0,0,0,0.7) 1px 1px 4px}}@media (max-width:360px){.waves[data-astro-cid-haiuh7kc]{height:6vh !important;min-height:50px !important;max-height:70px !important}}@media (max-height:500px){#banner-wrapper[data-astro-cid-haiuh7kc]{height:85vh !important;min-height:350px !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{padding:1rem !important;align-items:center !important;justify-content:center !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:2.8rem !important;line-height:1.1 !important;margin-bottom:0.5rem !important}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:0.9rem !important;line-height:1.2 !important}.waves[data-astro-cid-haiuh7kc]{height:5vh !important;min-height:40px !important;max-height:50px !important}}@media (min-height:501px) and (max-height:600px){#banner-wrapper[data-astro-cid-haiuh7kc]{height:80vh !important;min-height:400px !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{padding:1.5rem !important;align-items:center !important;justify-content:center !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:3.2rem !important;line-height:1.1 !important;margin-bottom:0.75rem !important}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:1rem !important;line-height:1.3 !important}.waves[data-astro-cid-haiuh7kc]{height:6vh !important;min-height:50px !important;max-height:60px !important}}@media (min-height:601px) and (max-height:700px){#banner-wrapper[data-astro-cid-haiuh7kc]{height:75vh !important;min-height:450px !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{padding:2rem !important;align-items:center !important;justify-content:center !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:3.8rem !important;line-height:1.1 !important;margin-bottom:1rem !important}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:1.125rem !important;line-height:1.4 !important}.waves[data-astro-cid-haiuh7kc]{height:8vh !important;min-height:60px !important;max-height:80px !important}}@media (orientation:landscape) and (max-height:500px){#banner-wrapper[data-astro-cid-haiuh7kc]{height:90vh !important;min-height:300px !important}.banner-text-overlay[data-astro-cid-haiuh7kc]{padding:1rem 2rem !important;align-items:center !important;justify-content:center !important;text-align:center !important}.banner-title[data-astro-cid-haiuh7kc]{font-size:2.8rem !important;line-height:1.1 !important;margin-bottom:0.5rem !important}.banner-subtitle[data-astro-cid-haiuh7kc]{font-size:1rem !important;line-height:1.2 !important}.waves[data-astro-cid-haiuh7kc]{height:4vh !important;min-height:30px !important;max-height:40px !important}}@media (max-width:480px){.music-player{max-width:260px}.song-title{font-size:14px}.song-artist{font-size:12px}.controls{gap:6px;margin-bottom:12px}.controls button{width:32px;height:32px}.controls button:nth-child(3){width:40px;height:40px}.playlist-item .w-10{width:32px;height:32px}}
		</style>

		<slot name="head" />

		<!-- Pio 看板娘样式 - 仅在启用时加载 -->
		{
			pioConfig.enable && (
				<link rel="stylesheet" href="/pio/static/pio.css" />
			)
		}

		<link
			rel="alternate"
			type="application/rss+xml"
			title={profileConfig.name}
			href={`${Astro.site}rss.xml`}
		/>

		<!-- Umami Analytics -->
		{umamiEnabled && umamiScripts && <Fragment set:html={umamiScripts} />}
	</head>
	<body
		class="min-h-screen"
		class:list={[
			{ "lg:is-home": isHomePage, "enable-banner": enableBanner },
		]}
		style={bodyFontFamily ? `font-family: ${bodyFontFamily};` : ""}
		data-overlayscrollbars-initialize
	>
		<noscript
			><iframe
				src="https://www.googletagmanager.com/ns.html?id=GTM-KRX3XGVH"
				height="0"
				width="0"
				style="display:none;visibility:hidden"></iframe></noscript
		>

		<!-- 页面顶部渐变高光效果 - 只在full和semifull模式下显示 -->
		{shouldShowTopHighlight && <div class="top-gradient-highlight" />}
		<ConfigCarrier />
		<slot />

		<!-- Music Player - 仅在启用时加载 -->
		{musicPlayerConfig.enable && <MusicPlayer client:idle />}

		<!-- Pio 看板娘组件 - 仅在启用时加载 -->
		{pioConfig.enable && <Pio client:idle />}

		<!-- increase the page height during page transition to prevent the scrolling animation from jumping -->
		<div id="page-height-extend" class="hidden h-[300vh]"></div>
	</body>
</html>

<style
	is:global
	define:vars={{
		bannerOffset,
		"banner-height-home": `${BANNER_HEIGHT_HOME}vh`,
		"banner-height": `${BANNER_HEIGHT}vh`,
	}}
>
	@tailwind components;
	@layer components {
		.enable-banner.is-home #banner-wrapper {
			@apply h-[var(--banner-height-home)] translate-y-[var(--banner-height-extend)];
		}
		.enable-banner #banner-wrapper {
			@apply h-[var(--banner-height-home)];
		}

		.enable-banner.is-home #banner {
			@apply h-[var(--banner-height-home)] translate-y-0;
		}
		.enable-banner #banner {
			@apply h-[var(--banner-height-home)] translate-y-[var(--bannerOffset)];
		}
		.enable-banner.is-home #main-grid {
			@apply translate-y-[var(--banner-height-extend)];
		}
		.enable-banner #top-row {
			@apply h-[calc(var(--banner-height-home)_-_4.5rem)] transition-all duration-300;
		}
		.enable-banner.is-home #sidebar-sticky {
			@apply top-[calc(1rem_-_var(--banner-height-extend))];
		}
		.navbar-hidden {
			@apply opacity-0 -translate-y-16;
		}

		/* Water waves animation */
		.waves > .parallax use {
			animation: wave 25s cubic-bezier(0.5, 0.5, 0.45, 0.5) infinite;
		}

		@keyframes wave {
			0% {
				transform: translate3d(-90px, 0, 0);
			}
			100% {
				transform: translate3d(85px, 0, 0);
			}
		}
	}
</style>

<script>
	// import { animationManager } from '../utils/animation-utils';
	import "overlayscrollbars/overlayscrollbars.css";
	// import {
	// 	OverlayScrollbars,
	// 	// ScrollbarsHidingPlugin,
	// 	// SizeObserverPlugin,
	// 	// ClickScrollPlugin
	// } from 'overlayscrollbars';
	// import {getHue, getStoredTheme, setHue, setTheme} from "../utils/setting-utils";
	import { pathsEqual, url } from "../utils/url-utils";
	import {
		// BANNER_HEIGHT,
		// BANNER_HEIGHT_HOME,
		// BANNER_HEIGHT_EXTEND,
		// MAIN_PANEL_OVERLAPS_BANNER_HEIGHT,
		DARK_MODE,
		DEFAULT_THEME,
	} from "../constants/constants";

	const BANNER_HEIGHT = 35;
	const BANNER_HEIGHT_EXTEND = 30;
	const BANNER_HEIGHT_HOME = BANNER_HEIGHT + BANNER_HEIGHT_EXTEND;
	// const MAIN_PANEL_OVERLAPS_BANNER_HEIGHT = 3.5;
	import { siteConfig } from "../config";
	import { widgetConfigs } from "../config";
	import { initSakura } from "../utils/sakura-manager";

	// const setTimeout = window.setTimeout;
	// @ts-ignore
	const setTimeout = (callback: any, delay: any) =>
		window.setTimeout(callback, delay);

	/* Preload fonts */
	// (async function() {
	// 	try {
	// 		await Promise.all([
	// 			document.fonts.load("400 1em Roboto"),
	// 			document.fonts.load("700 1em Roboto"),
	// 		]);
	// 		document.body.classList.remove("hidden");
	// 	} catch (error) {
	// 		console.log("Failed to load fonts:", error);
	// 	}
	// })();

	/* TODO This is a temporary solution for style flicker issue when the transition is activated */
	/* issue link: https://github.com/withastro/astro/issues/8711, the solution get from here too */
	/* update: fixed in Astro 3.2.4 */
	/*
function disableAnimation() {
	const css = document.createElement('style')
	css.appendChild(
		document.createTextNode(
			`*{
              -webkit-transition:none!important;
              -moz-transition:none!important;
              -o-transition:none!important;
              -ms-transition:none!important;
              transition:none!important
              }`
		)
	)
	document.head.appendChild(css)

	return () => {
		// Force restyle
		;(() => window.getComputedStyle(document.body))()

		// Wait for next tick before removing
		setTimeout(() => {
			document.head.removeChild(css)
		}, 1)
	}
}
*/

	const bannerEnabled = !!document.getElementById("banner-wrapper");

	// 导入面板管理器
	async function initializePanelManager() {
		try {
			// @ts-ignore
			const { panelManager } = await import("../utils/panel-manager.js");

			function setClickOutsideToClose(panel: string, ignores: string[]) {
				document.addEventListener("click", async (event) => {
					// @ts-ignore
					// let _panelDom = document.getElementById(panel);
					let tDom = event.target;
					if (!(tDom instanceof Node)) return; // Ensure the event target is an HTML Node
					for (let ig of ignores) {
						let ie = document.getElementById(ig);
						if (ie == tDom || ie?.contains(tDom)) {
							return;
						}
					}
					await panelManager.closePanel(panel as any);
				});
			}
			setClickOutsideToClose("display-setting", [
				"display-setting",
				"display-settings-switch",
			]);
			setClickOutsideToClose("nav-menu-panel", [
				"nav-menu-panel",
				"nav-menu-switch",
			]);
			setClickOutsideToClose("search-panel", [
				"search-panel",
				"search-bar",
				"search-switch",
			]);
			setClickOutsideToClose("mobile-toc-panel", [
				"mobile-toc-panel",
				"mobile-toc-switch",
			]);
			setClickOutsideToClose("wallpaper-mode-panel", [
				"wallpaper-mode-panel",
				"wallpaper-mode-switch",
			]);

			return panelManager;
		} catch (error) {
			console.error("Failed to initialize panel manager:", error);
			return null;
		}
	}

	initializePanelManager();

	// function _loadTheme() {
	// 	const theme = getStoredTheme()
	// 	setTheme(theme)
	// }

	// function _loadHue() {
	// 	setHue(getHue())
	// }

	function initCustomScrollbar() {
		// 完全禁用OverlayScrollbars的body初始化，避免导致页面重新加载
		// 只处理katex元素的滚动条
		const katexElements = document.querySelectorAll(
			".katex-display:not([data-scrollbar-initialized])",
		) as NodeListOf<HTMLElement>;
		katexElements.forEach((element) => {
			if (!element.parentNode) return;

			const container = document.createElement("div");
			container.className = "katex-display-container";
			element.parentNode.insertBefore(container, element);
			container.appendChild(element);

			// 使用简单的CSS滚动条而不是OverlayScrollbars
			container.style.cssText = `
			overflow-x: auto;
			scrollbar-width: thin;
			scrollbar-color: rgba(0,0,0,0.3) transparent;
		`;

			// 为webkit浏览器添加自定义滚动条样式
			const style = document.createElement("style");
			style.textContent = `
			.katex-display-container::-webkit-scrollbar {
				height: 6px;
			}
			.katex-display-container::-webkit-scrollbar-track {
				background: transparent;
			}
			.katex-display-container::-webkit-scrollbar-thumb {
				background: rgba(0,0,0,0.3);
				border-radius: 3px;
			}
			.katex-display-container::-webkit-scrollbar-thumb:hover {
				background: rgba(0,0,0,0.5);
			}
		`;
			if (!document.head.querySelector("style[data-katex-scrollbar]")) {
				style.setAttribute("data-katex-scrollbar", "true");
				document.head.appendChild(style);
			}

			element.setAttribute("data-scrollbar-initialized", "true");
		});
	}

	function showBanner() {
		// 使用requestAnimationFrame优化DOM操作
		requestAnimationFrame(() => {
			// Handle single image banner (desktop)
			const banner = document.getElementById("banner");
			if (banner) {
				banner.classList.remove("opacity-0", "scale-105");
			}

			// Handle mobile single image banner - 使用与电脑端相同的逻辑
			const mobileBanner = document.querySelector(
				'.block.lg\\:hidden[alt="Mobile banner image of the blog"]',
			);
			if (mobileBanner && !document.getElementById("banner-carousel")) {
				// 移动端使用与电脑端相同的初始化逻辑
				mobileBanner.classList.remove("opacity-0", "scale-105");
				mobileBanner.classList.add("opacity-100");
			}

			// Handle carousel banner - 立即初始化，移除延迟
			const carousel = document.getElementById("banner-carousel");
			if (carousel) {
				// 立即初始化轮播，移除延迟以改善流畅性
				initCarousel();
			}
		});
	}

	function initCarousel() {
		const carouselItems = document.querySelectorAll(".carousel-item");

		// 根据屏幕尺寸过滤有效的轮播项
		const isMobile = window.innerWidth < 1024; // lg breakpoint
		const validItems = Array.from(carouselItems).filter((item) => {
			if (isMobile) {
				// 移动端：只显示有mobile图片的项目
				return item.querySelector(".block.lg\\:hidden");
			} else {
				// 桌面端：只显示有desktop图片的项目
				return item.querySelector(".hidden.lg\\:block");
			}
		});

		// Check if carousel is disabled but we have multiple images - show random image
		if (validItems.length > 1 && !siteConfig.banner.carousel?.enable) {
			// Hide all images first
			carouselItems.forEach((item, _index) => {
				item.classList.add("opacity-0", "scale-110");
				item.classList.remove("opacity-100", "scale-100");
			});

			// Show random valid image
			const randomIndex = Math.floor(Math.random() * validItems.length);
			const randomItem = validItems[randomIndex];

			randomItem.classList.add("opacity-100", "scale-100");
			randomItem.classList.remove("opacity-0", "scale-110");
			return;
		}

		if (validItems.length > 1 && siteConfig.banner.carousel?.enable) {
			let currentIndex = 0;
			const interval = siteConfig.banner.carousel?.interval || 6;
			let carouselInterval: any;
			let isPaused = false;

			// 移动端触摸手势支持
			let startX = 0;
			let startY = 0;
			let isSwiping = false;
			const carousel = document.getElementById("banner-carousel");

			// 切换图片的函数 - 基于有效项目
			function switchToSlide(index: number) {
				// 隐藏当前图片
				const currentItem = validItems[currentIndex];
				currentItem.classList.remove("opacity-100", "scale-100");
				currentItem.classList.add("opacity-0", "scale-110");

				// 更新索引
				currentIndex = index;

				// 显示新图片
				const nextItem = validItems[currentIndex];
				nextItem.classList.add("opacity-100", "scale-100");
				nextItem.classList.remove("opacity-0", "scale-110");
			}

			// 初始化：隐藏所有图片，只显示第一张有效图片
			carouselItems.forEach((item) => {
				item.classList.add("opacity-0", "scale-110");
				item.classList.remove("opacity-100", "scale-100");
			});

			// 显示第一张有效图片
			if (validItems.length > 0) {
				validItems[0].classList.add("opacity-100", "scale-100");
				validItems[0].classList.remove("opacity-0", "scale-110");
			}

			// 移动端触摸事件
			if (carousel && "ontouchstart" in window) {
				carousel.addEventListener(
					"touchstart",
					(e) => {
						startX = e.touches[0].clientX;
						startY = e.touches[0].clientY;
						isSwiping = false;
						isPaused = true;
						clearInterval(carouselInterval);
					},
					{ passive: true },
				);

				carousel.addEventListener(
					"touchmove",
					(e) => {
						if (!startX || !startY) return;

						const diffX = Math.abs(e.touches[0].clientX - startX);
						const diffY = Math.abs(e.touches[0].clientY - startY);

						// 判断是否为水平滑动
						if (diffX > diffY && diffX > 30) {
							isSwiping = true;
							e.preventDefault();
						}
					},
					{ passive: false },
				);

				carousel.addEventListener(
					"touchend",
					(e) => {
						if (!startX || !startY || !isSwiping) {
							isPaused = false;
							startCarousel();
							return;
						}

						const endX = e.changedTouches[0].clientX;
						const diffX = startX - endX;

						// 滑动距离超过50px才切换
						if (Math.abs(diffX) > 50) {
							if (diffX > 0) {
								// 向左滑动，显示下一张
								const nextIndex =
									(currentIndex + 1) % validItems.length;
								switchToSlide(nextIndex);
							} else {
								// 向右滑动，显示上一张
								const prevIndex =
									(currentIndex - 1 + validItems.length) %
									validItems.length;
								switchToSlide(prevIndex);
							}
						}

						startX = 0;
						startY = 0;
						isSwiping = false;
						isPaused = false;

						// 重新开始自动轮播
						startCarousel();
					},
					{ passive: true },
				);
			}

			// 开始轮播的函数
			function startCarousel() {
				clearInterval(carouselInterval);
				carouselInterval = setInterval(() => {
					if (!isPaused) {
						const nextIndex =
							(currentIndex + 1) % validItems.length;
						switchToSlide(nextIndex);
					}
				}, interval * 1000);
			}

			// 鼠标悬停暂停（桌面端）
			if (carousel) {
				carousel.addEventListener("mouseenter", () => {
					isPaused = true;
					clearInterval(carouselInterval);
				});

				carousel.addEventListener("mouseleave", () => {
					isPaused = false;
					startCarousel();
				});
			}

			// 开始自动轮播
			startCarousel();
		}
	}

	function setupSakura() {
		const sakuraConfig = (widgetConfigs as any)?.sakura;
		if (!sakuraConfig || !sakuraConfig.enable) return;
		if ((window as any).sakuraInitialized) return;
		initSakura(sakuraConfig);
		(window as any).sakuraInitialized = true;
	}

	if (document.readyState === "loading") {
		document.addEventListener("DOMContentLoaded", setupSakura);
	} else {
		setupSakura();
	}

	let fancyboxSelectors: string[] = [];
	let Fancybox: any;

	// 数学公式按需加载
	function checkKatex() {
		if (document.querySelector(".katex")) {
			import("katex/dist/katex.css");
		}
	}

	// 图片灯箱按需加载
	async function initFancybox() {
		const albumImagesSelector =
			".custom-md img, #post-cover img, .moment-images img";
		const albumLinksSelector = ".moment-images a[data-fancybox]";
		const singleFancyboxSelector = "[data-fancybox]:not(.moment-images a)";

		const hasImages =
			document.querySelector(albumImagesSelector) ||
			document.querySelector(albumLinksSelector) ||
			document.querySelector(singleFancyboxSelector);

		if (!hasImages) return;

		if (!Fancybox) {
			const mod = await import("@fancyapps/ui");
			Fancybox = mod.Fancybox;
			await import("@fancyapps/ui/dist/fancybox/fancybox.css");
		}

		if (fancyboxSelectors.length > 0) {
			return; // 已经初始化，直接返回
		}

		const commonConfig = {
			Thumbs: { autoStart: true, showOnStart: "yes" },
			Toolbar: {
				display: {
					left: ["infobar"],
					middle: [
						"zoomIn",
						"zoomOut",
						"toggle1to1",
						"rotateCCW",
						"rotateCW",
						"flipX",
						"flipY",
					],
					right: ["slideshow", "thumbs", "close"],
				},
			},
			animated: true,
			dragToClose: true,
			keyboard: {
				Escape: "close",
				Delete: "close",
				Backspace: "close",
				PageUp: "next",
				PageDown: "prev",
				ArrowUp: "next",
				ArrowDown: "prev",
				ArrowRight: "next",
				ArrowLeft: "prev",
			},
			fitToView: true,
			preload: 3,
			infinite: true,
			Panzoom: { maxScale: 3, minScale: 1 },
			caption: false,
		};

		// 绑定相册/文章图片
		Fancybox.bind(albumImagesSelector, {
			...commonConfig,
			groupAll: true,
			Carousel: {
				transition: "slide",
				preload: 2,
			},
		});
		fancyboxSelectors.push(albumImagesSelector);

		Fancybox.bind(albumLinksSelector, {
			...commonConfig,
			source: (el) => {
				return el.getAttribute("data-src") || el.getAttribute("href");
			},
		});
		fancyboxSelectors.push(albumLinksSelector);

		// 绑定单独的 fancybox 图片
		Fancybox.bind(singleFancyboxSelector, commonConfig);
		fancyboxSelectors.push(singleFancyboxSelector);
	}

	// 清理 Fancybox 实例
	function cleanupFancybox() {
		if (!Fancybox) return; // 如果从未加载过，无需清理

		fancyboxSelectors.forEach((selector) => {
			Fancybox.unbind(selector);
		});
		fancyboxSelectors = [];
	}

	const setup = () => {
		// TODO: temp solution to change the height of the banner
		/*
	window.swup.hooks.on('animation:out:start', () => {
		const path = window.location.pathname
		const body = document.querySelector('body')
		if (path[path.length - 1] === '/' && !body.classList.contains('is-home')) {
			body.classList.add('is-home')
		} else if (path[path.length - 1] !== '/' && body.classList.contains('is-home')) {
			body.classList.remove('is-home')
		}
	})
*/
		window.swup.hooks.on("link:click", () => {
			// Remove the delay for the first time page load
			document.documentElement.style.setProperty(
				"--content-delay",
				"0ms",
			);

			// 简化navbar处理逻辑
			if (bannerEnabled) {
				const navbar = document.getElementById("navbar-wrapper");
				if (navbar && document.body.classList.contains("lg:is-home")) {
					const threshold =
						window.innerHeight * (BANNER_HEIGHT / 100) - 88;
					if (document.documentElement.scrollTop >= threshold) {
						navbar.classList.add("navbar-hidden");
					}
				}
			}
		});
		window.swup.hooks.on("content:replace", () => {
			// 初始化新页面的图片、公式、滚动条和TOC
			initFancybox();
			checkKatex();
			initCustomScrollbar();

			// 检查当前页面是否为文章页面（有TOC元素）
			const tocWrapper = document.getElementById("toc-wrapper");
			const isArticlePage = tocWrapper !== null;

			// 只在文章页面重新初始化 TOC 组件
			if (isArticlePage) {
				const tocElement = document.querySelector("table-of-contents");
				if (
					tocElement &&
					typeof (tocElement as any).init === "function"
				) {
					setTimeout(() => {
						(tocElement as any).init();
					}, 100);
				}

				// 重新初始化移动端 TOC 组件
				if (typeof (window as any).mobileTOCInit === "function") {
					setTimeout(() => {
						(window as any).mobileTOCInit();
					}, 100);
				}
			}

			// 重新初始化semifull模式的滚动检测
			const navbar = document.getElementById("navbar");
			if (navbar) {
				const transparentMode = navbar.getAttribute(
					"data-transparent-mode",
				);

				if (transparentMode === "semifull") {
					// 重新调用初始化函数来重新绑定滚动事件
					if (
						typeof (window as any).initSemifullScrollDetection ===
						"function"
					) {
						(window as any).initSemifullScrollDetection();
					}
				}
			}
		});

		window.swup.hooks.on(
			"visit:start",
			(visit: { to: { url: string } }) => {
				// 清理上一页的 Fancybox
				cleanupFancybox();

				// 处理 Banner class 和显示状态
				const bodyElement = document.querySelector("body");
				const isHomePage = pathsEqual(visit.to.url, url("/"));

				if (bodyElement) {
					if (isHomePage) {
						bodyElement.classList.add("lg:is-home");
					} else {
						bodyElement.classList.remove("lg:is-home");
					}
				}

				// Control banner text visibility based on page
				const bannerTextOverlay = document.querySelector(
					".banner-text-overlay",
				);
				if (bannerTextOverlay) {
					if (isHomePage) {
						bannerTextOverlay.classList.remove("hidden");
					} else {
						bannerTextOverlay.classList.add("hidden");
					}
				}

				// Control navbar transparency based on page
				const navbar = document.getElementById("navbar");
				if (navbar) {
					navbar.setAttribute("data-is-home", isHomePage.toString());

					// 重新初始化semifull模式的滚动检测
					const transparentMode = navbar.getAttribute(
						"data-transparent-mode",
					);
					if (transparentMode === "semifull") {
						// 重新调用初始化函数来重新绑定滚动事件
						if (
							typeof window.initSemifullScrollDetection ===
							"function"
						) {
							window.initSemifullScrollDetection();
						}
					}
				}

				// Control mobile banner visibility based on page with improved staging animation
				const bannerWrapper = document.getElementById("banner-wrapper");
				const mainContentWrapper = document.querySelector(
					".absolute.w-full.z-30",
				);

				if (bannerWrapper && mainContentWrapper) {
					if (isHomePage) {
						// 首页：延迟移除隐藏类，让banner和内容优雅地出现
						setTimeout(() => {
							bannerWrapper.classList.remove(
								"mobile-hide-banner",
							);
						}, 100);
						setTimeout(() => {
							mainContentWrapper.classList.remove(
								"mobile-main-no-banner",
							);
						}, 150);
					} else {
						// 非首页：分阶段隐藏，先隐藏banner，再移动内容
						bannerWrapper.classList.add("mobile-hide-banner");
						// 延迟移动内容，让banner先完全消失
						setTimeout(() => {
							mainContentWrapper.classList.add(
								"mobile-main-no-banner",
							);
						}, 100);
					}
				}

				// increase the page height during page transition to prevent the scrolling animation from jumping
				const heightExtend =
					document.getElementById("page-height-extend");
				if (heightExtend) {
					heightExtend.classList.remove("hidden");
				}

				// Hide the TOC while scrolling back to top
				let toc = document.getElementById("toc-wrapper");
				if (toc) {
					toc.classList.add("toc-not-ready");
				}
			},
		);

		window.swup.hooks.on("page:view", () => {
			// hide the temp high element when the transition is done
			const heightExtend = document.getElementById("page-height-extend");
			if (heightExtend) {
				heightExtend.classList.remove("hidden");
			}

			// 确保页面滚动到顶部，特别是移动端banner关闭时
			window.scrollTo({
				top: 0,
				behavior: "instant",
			});

			// 同步主题状态 - 解决从首页进入文章页面时代码块渲染问题
			const storedTheme = localStorage.getItem("theme") || DEFAULT_THEME;
			const isDark = storedTheme === DARK_MODE;
			const expectedTheme = isDark ? "github-dark" : "github-light";
			const currentTheme =
				document.documentElement.getAttribute("data-theme");
			const hasDarkClass =
				document.documentElement.classList.contains("dark");

			// 如果主题不匹配，使用批量更新减少重绘
			if (currentTheme !== expectedTheme || hasDarkClass !== isDark) {
				// 使用 requestAnimationFrame 批量更新，减少重绘
				requestAnimationFrame(() => {
					// 同步 data-theme 属性
					if (currentTheme !== expectedTheme) {
						document.documentElement.setAttribute(
							"data-theme",
							expectedTheme,
						);
					}
					// 同步 dark class
					if (hasDarkClass !== isDark) {
						if (isDark) {
							document.documentElement.classList.add("dark");
						} else {
							document.documentElement.classList.remove("dark");
						}
					}
				});
			}

			// 检查当前页面是否为文章页面，如果是则触发自定义事件用于初始化评论系统
			setTimeout(() => {
				if (document.getElementById("tcomment")) {
					// 触发自定义事件，通知评论系统页面已完全加载
					const pageLoadedEvent = new CustomEvent(
						"mizuki:page:loaded",
						{
							detail: {
								path: window.location.pathname,
								timestamp: Date.now(),
							},
						},
					);
					document.dispatchEvent(pageLoadedEvent);
					console.log(
						"Layout: 触发 mizuki:page:loaded 事件，路径:",
						window.location.pathname,
					);
				}
			}, 300);
		});

		window.swup.hooks.on("visit:end", (_visit: { to: { url: string } }) => {
			setTimeout(() => {
				const heightExtend =
					document.getElementById("page-height-extend");
				if (heightExtend) {
					heightExtend.classList.add("hidden");
				}

				// Just make the transition looks better
				const toc = document.getElementById("toc-wrapper");
				if (toc) {
					toc.classList.remove("toc-not-ready");
				}
			}, 200);
		});
	};

	if (window?.swup?.hooks) {
		initFancybox();
		checkKatex();
		setup();
	} else {
		document.addEventListener("swup:enable", setup);

		// 监听 DOM 加载 (确保首屏也能加载优化组件)
		if (document.readyState === "loading") {
			document.addEventListener("DOMContentLoaded", () => {
				initFancybox();
				checkKatex();
			});
		} else {
			initFancybox();
			checkKatex();
		}
	}

	let backToTopBtn = document.getElementById("back-to-top-btn");
	let toc = document.getElementById("toc-wrapper");
	let navbar = document.getElementById("navbar-wrapper");

	// 节流函数
	function throttle(func: Function, limit: number) {
		let inThrottle: boolean;
		return function (this: any) {
			const args = arguments;
			const context = this;
			if (!inThrottle) {
				func.apply(context, args);
				inThrottle = true;
				setTimeout(() => (inThrottle = false), limit);
			}
		};
	}

	function scrollFunction() {
		const scrollTop = document.documentElement.scrollTop;
		const bannerHeight = window.innerHeight * (BANNER_HEIGHT / 100);

		// 批量处理DOM操作
		requestAnimationFrame(() => {
			if (backToTopBtn) {
				if (scrollTop > bannerHeight) {
					backToTopBtn.classList.remove("hide");
				} else {
					backToTopBtn.classList.add("hide");
				}
			}

			if (bannerEnabled && toc) {
				if (scrollTop > bannerHeight) {
					toc.classList.remove("toc-hide");
				} else {
					toc.classList.add("toc-hide");
				}
			}

			if (bannerEnabled && navbar) {
				const isHome =
					document.body.classList.contains("lg:is-home") &&
					window.innerWidth >= 1024;
				const currentBannerHeight = isHome
					? BANNER_HEIGHT_HOME
					: BANNER_HEIGHT;
				const threshold =
					window.innerHeight * (currentBannerHeight / 100) - 88;

				if (scrollTop >= threshold) {
					navbar.classList.add("navbar-hidden");
				} else {
					navbar.classList.remove("navbar-hidden");
				}
			}
		});
	}

	// 使用节流优化滚动性能
	window.onscroll = throttle(scrollFunction, 16); // 约60fps

	window.onresize = () => {
		// calculate the --banner-height-extend, which needs to be a multiple of 4 to avoid blurry text
		let offset = Math.floor(
			window.innerHeight * (BANNER_HEIGHT_EXTEND / 100),
		);
		offset = offset - (offset % 4);
		document.documentElement.style.setProperty(
			"--banner-height-extend",
			`${offset}px`,
		);
	};

	// 页面加载完成后初始化banner和轮播图
	if (document.readyState === "loading") {
		document.addEventListener("DOMContentLoaded", async () => {
			showBanner();
			// 初始化面板管理器
			try {
				await import("../utils/panel-manager.js");
				console.log("Panel manager initialized");
			} catch (error) {
				console.error("Failed to initialize panel manager:", error);
			}
		});
	} else {
		showBanner();
		// 页面已经加载完成，立即初始化面板管理器
		(async () => {
			try {
				await import("../utils/panel-manager.js");
				console.log("Panel manager initialized");
			} catch (error) {
				console.error("Failed to initialize panel manager:", error);
			}
		})();
	}
</script>

<!-- 代码块折叠功能 -->
<script>
	import "../scripts/code-collapse.js";
</script>

<!-- 主题切换综合性能优化器（包含代码块优化、重型元素优化、性能诊断） -->
<script>
	import "../scripts/theme-optimizer.js";
</script>
