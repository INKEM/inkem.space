---
title: 【机器人学|运动学与动力学】#2 操作臂（正向）运动学
published: 2026-02-03
description: 通过一组能够唯一确定系统构型的最少变量计算兴趣点位姿。
tags: [DH参数法, 齐次变换矩阵]
category: 运动学与动力学
---
**运动学**（Kinematics）研究机器人的运动特性，包括位置、速度、加速度以及位置变量的所有高阶导数，而不考虑使机器人产生运动时施加的力。

**操作臂**（Manipulator）特指机械臂这类多关节串联机构，其在机器人运动学体系中结构最规范、理论最成熟，定义了运动学问题的基线，因此是入门运动学的理想模型。

![](https://inkem-1306784622.cos.accelerate.myqcloud.com/blog/pic/Pasted%20image%2020260202144313.png)

# DH参数法

操作臂是由一系列通过**关节**（Joint）连接成运动链的**连杆**（Link）组成的。关节是连接两个相邻的连杆并允许它们之间产生相对运动的机构，连杆是连接两个关节的刚性部件。

为了便于处理操作臂的复杂几何形状，我们首先需要在操作臂的每个连杆上分别设置一个连杆坐标系，然后再描述这些连杆坐标系之间的关系。一个广泛使用的标准描述方法是**DH参数法**（Denavit-Hartenberg Parameters）。

## 单个连杆的描述

在设计操作臂的结构时，通常优先选择单自由度关节作为连杆的连接方式，包括**旋转关节**（Revolute Joint）和**移动关节**（Prismatic Joint）。将旋转关节和移动关节分别记为R和P，我们就可以用关节类型和顺序来表示操作臂的机构。

*移动关节的英文Prismatic意为棱柱，因为棱柱的特征是其横截面沿一个方向平移形状不变。*

![|500](https://inkem-1306784622.cos.accelerate.myqcloud.com/blog/pic/Pasted%20image%2020260203164259.png)

包含$n$个自由度的关节则可以视为由$n$个单自由度的关节将$n-1$个长度为$0$的连杆连接而成的，因此我们只对含单自由度关节的操作臂进行研究。为了确定末端执行器在三维空间中的位置和姿态，操作臂至少需要$6$个关节。

从操作臂的固定基座开始为连杆进行编号，可以称固定基座为连杆$0$，第一个可动连杆为连杆$1$，以此类推。操作臂最末端的连杆为连杆$n$。驱动连杆$i$的关节则称为关节$i$。

关节$i$由关节轴$i$表示。旋转关节的关节轴是其旋转轴，移动关节的关节轴是与关节允许发生的平移运动方向一致的直线。连杆的运动学功能是固定连杆两端关节轴的相对关系，该关系可以由**连杆长度**（Link Length）$a$和**连杆扭转角**（Link Twist）$\alpha$描述。连杆长度为两端关节轴之间公垂线的长度，连杆扭转角为两端关节轴在垂直于公垂线的平面上的投影的夹角。

![|500](https://inkem-1306784622.cos.accelerate.myqcloud.com/blog/pic/Pasted%20image%2020260203165704.png)

## 连杆连接的描述

**连杆偏距**（Link Offset）$d$和**关节角**（Joint Angle）$\theta$描述了连杆之间的连接关系。相邻的两个连杆之间有一个公共的关节轴，连杆偏距是相邻连杆（长度所在直线）沿公共轴线方向的距离，关节角是相邻连杆绕公共轴线旋转的夹角。

![|500](https://inkem-1306784622.cos.accelerate.myqcloud.com/blog/pic/Pasted%20image%2020260203170724.png)

当公共关节为旋转关节时，关节角$\theta$为关节运动变量，连杆偏距$d$为常量；当公共关节为移动关节时，连杆偏距$d$为关节运动变量，关节角$\theta$为常量。

位于运动链两端的连杆$0$和连杆$n$只有一端存在关节轴，故连杆长度$a$和连杆扭转角$\alpha$按习惯设定为$0$。相应地，关节$1$和关节$n$也缺乏一侧的连杆长度作为参照，故关节运动变量的零点可以根据实际情况任意选取，另一个连接关系中的常量则按习惯设定为$0$。

至此，操作臂的每个连杆都可以用连杆长度$a$、连杆扭转角$\alpha$、连杆偏距$d$和关节角$\theta$这$4$个运动学参数描述。这种用连杆参数描述机构运动关系的方法即为DH参数法。

## 连杆坐标系的定义

为了在笛卡尔空间中描述每个连杆与相邻连杆之间的相对位置关系，我们需要在每个连杆上定义一个固连坐标系。固连在连杆$i$上的固连坐标系称为坐标系$\{i\}$。

确定运动链中间连杆坐标系$\{i\}$的方法如下：

- $\hat Z_i$与关节轴$i$重合，两个方向任意；
- 原点位于公垂线$a_i$与关节轴$i$的交点处；
	- 当$a_i=0$时，位于关节轴$i$与关节轴$i+1$的交点处；
	- 当关节轴$i$与关节轴$i+1$平行时，通常选取公垂线$a_{i-1}$与关节轴$i$交点处。
- $\hat X_i$沿公垂线$a_i$方向由关节$i$指向关节$i+1$；
	- 当$a_i=0$时，垂直于$\hat Z_i$和$\hat Z_{i+1}$所在的平面，两个方向任意。
- $\hat Y_i$根据右手定则确定。

![|500](https://inkem-1306784622.cos.accelerate.myqcloud.com/blog/pic/Pasted%20image%2020260203171238.png)

按照上述方法将连杆坐标系固连于连杆上时，连杆参数可以定义为

- $a_i=$沿$\hat{X}_i$轴从${\hat{Z}_i}$移动到$\hat{Z}_{i+1}$的距离；
- $\alpha_i=$绕$\hat{X}_i$轴从$\hat{Z}_i$旋转到$\hat{Z}_{i+1}$的角度；
- $d_i=$沿$\hat{Z}_i$轴从$\hat{X}_{i-1}$移动到$\hat{X}_i$的距离；
- $\theta_i=$绕$\hat{Z}_i$轴从$\hat{X}_{i-1}$旋转到$\hat{X}_i$的角度。

因为$a_i$对应连杆的长度，因此通常设定$a_i>0$。而$\alpha_i$、$d_i$和$\theta_i$的值可以为正，也可以为负。

坐标系$\{0\}$固连在操作臂基座上。该坐标系是一个固定不动的坐标系，因此在研究操作臂运动学问题时可以将其作为参考坐标系。参考坐标系$\{0\}$可以任意设定，但是为了简化问题，通常设定$\hat Z_0$沿关节轴$1$的方向，参考坐标系$\{0\}$的位置与坐标系$\{1\}$在关节变量$1$为$0$时的位姿重合。这也符合上一小节中连杆参数的习惯设定值。

坐标系$\{n\}$对于旋转关节$n$，$\hat X_n$的方向在$\theta_n=0$时与$\hat X_{n-1}$的方向一致，并设定坐标系$\{n\}$的原点位置使之满足$d_n=0$；对于移动关节$n$，坐标系$\{n\}$的原点位置在$d_n=0$时位于$\hat X_{n-1}$与关节轴$n$的交点处，并设定$\hat X_n$的方向使之满足$\theta_n=0$。

对于一个机构，可以按照如下步骤建立连杆坐标系：

1. 找出各关节轴；
2. 找出各相邻的关节轴$i$与关节轴$i+1$之间的公垂线或交点，以公垂线与关节轴$i$的交点或关节轴$i$与关节轴$i+1$之间的交点作为连杆坐标系$\{i\}$的原点；
3. 规定$\hat Z_i$与关节轴$i$重合；
4. 规定$\hat X_i$与公垂线重合或垂直于关节轴$i$与关节轴$i+1$所在平面；
5. 按右手定则确定$\hat Y_i$；
6. 规定坐标系$\{0\}$在关节变量$1$为$0$时与坐标系$\{1\}$重合；
7. 任意选取坐标系$\{n\}$的原点和$\hat X_n$的方向，通常尽量使连杆参数为$0$。

# 操作臂（正向）运动学

**正向运动学**（Forward Kinematics）研究通过一组能够唯一确定系统构型的最少变量计算兴趣点位姿的过程，对于操作臂而言是通过连杆参数计算末端执行器或任意连杆的位姿的过程。

## 连杆变换

相邻连杆坐标系的变换是求解任意操作臂运动学问题的基础。我们可以利用$4$个连杆参数分解坐标系$\{i\}$相对于坐标系$\{i-1\}$的变换：

1. 将$\{i-1\}$绕$\hat{X}_{i-1}$旋转$\alpha_{i-1}$得到$\{R\}$；
2. 将$\{R\}$沿$\hat{X}_R$平移$a_{i-1}$得到$\{Q\}$；
3. 将$\{Q\}$绕$\hat{Z}_Q$旋转$\theta_i$得到$\{P\}$；
4. 将$\{P\}$沿$\hat{Z}_P$平移$d_i$得到$\{i\}$。

![](https://inkem-1306784622.cos.accelerate.myqcloud.com/blog/pic/Pasted%20image%2020260203173250.png)

进而坐标系$\{i\}$相对于坐标系$\{i-1\}$的变换矩阵可通过分解计算得到

$$
\begin{split}
^{i-1}_iT&={^{i-1}_RT}{^R_QT}{^Q_PT}{^P_iT}\\
&=R_X(\alpha_{i-1})D_X(a_{i-1})R_Z(\theta_i)D_Z(d_i)\\
&=\begin{bmatrix}c\theta_i&-s\theta_i&0&a_{i-1}\\s\theta_ic\alpha_{i-1}&c\theta_ic\alpha_{i-1}&-s\alpha_{i-1}&-s\alpha_{i-1}d_i\\s\theta_is\alpha_{i-1}&c\theta_is\alpha_{i-1}&c\alpha_{i-1}&c\alpha_{i-1}d_i\\0&0&0&1\end{bmatrix}
\end{split}
$$

在定义了连杆坐标系和相应的连杆参数的基础上，我们可以计算出各个相邻连杆变换矩阵，并通过连乘得到坐标系$\{n\}$相对于坐标系$\{0\}$的变换矩阵

$$
^0_nT={^0_1T}{^1_2T}\cdots{^{n-1}_nT}
$$

## 状态空间

当连杆的几何参数已知时，变换矩阵$^0_nT$是关于$n$个关节变量的函数。对于一个具有$n$个自由度的操作臂来说，它的所有连杆位置可由一组$n$个关节变量确定，这样一组变量被称为$n\times1$的**关节向量**（Joint Vector）。所有关节向量组成的空间称为**关节空间**（Joint Space）。以直角坐标系为基础的空间则称为**笛卡尔空间**（Cartesian Space），在机器人学中又称**任务空间**（Task Space）或**操作空间**（Operation Space）。正向运动学关心的问题正是如何将已知的关节空间描述转化为在笛卡尔空间中的描述。相应地，如何将已知的笛卡尔空间描述转化为在关节空间中的描述为**逆运动学**（Inverse Kinematics）关心的问题，将在下一章介绍。

关节的运动是由驱动器驱动的，但是驱动器变量和关节变量往往并不是相等的关系，例如电机的驱动器变量可能是电流或电压而不是输出轴的位置。因此进行控制器运算时必须将关节变量表示为一组驱动器变量的方程，即**驱动向量**（Actuator Vector）的方程。所有驱动向量组成的空间称为**驱动器空间**（Actuator Space）。

驱动器空间、关节空间和笛卡尔空间都是机器人状态表示与运动控制的层级化描述框架，是机器人运动学与控制中不同的**状态空间**（State Space）。